<!doctype html>
<html lang='en-GB'>
<head>
	<meta charset='utf-8'>

	<title>#580 | Ractive.js sandbox</title>

	<!-- CSS -->
	<link rel='stylesheet' href='../_sandbox.css'>

	<!--[if lte IE 8]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>

<body>
	<header>
		<a href='../'>&laquo;</a> <h1>#580</h1>
	</header>

	<main>
		<p class='loading'>loading individual Ractive.js source files... please wait</p>
	</main>

	<footer>
		<a href='http://ractivejs.org'>Ractive.js</a>
		<a href='http://docs.ractivejs.org'>Docs</a>
		<a href='http://twitter.com/RactiveJS'>Get help on Twitter @RactiveJS</a>
	</footer>

	<script id='template' type='text/ractive'>
		<ul>
			{{#items}}
				<li>{{this}}</li>
			{{/items}}
		</ul>
	</script>

	<!-- JS -->
	<script src='../require.js'></script>
	<script>
		var ractive, fixture, items;

		fixture = document.querySelector( 'main' ); // so we can copy and paste into test suite more easily

		// Configure RequireJS to load Ractive from the src/ folder
		require.config({ baseUrl: '../../src/' });

		require([ 'ractive' ], function ( Ractive ) {
			window.Ractive = Ractive;

			console.group( 'init' );
			ractive = new Ractive({
				el: fixture,
				template: '#template',
				data: {
					foo: {
						bar: {
							one: 'yes',
							two: 'sdf'
						},
						baz: {
							three: 'sdfjkds',
							four: 'pij'
						}
					}
				}
			});

			items = ractive.get( 'items' );
			console.groupEnd();

			console.group( 'initial observe' );
			ractive.observe( 'foo.*.*', function ( n, o, k, keyOne, keyTwo ) {
				console.log( 'keypath "%s": %s, %s', k, keyOne, keyTwo );
			});
			console.groupEnd();

			ractive.set( 'foo.bar.two', 5 );
			ractive.set( 'foo.baz.qux', 42 );
		});
	</script>
</body>
</html>
