(function(t){Date.now||(Date.now=function(){return+new Date}),t.createElementNS||(t.createElementNS=function(e,n){if(null!==e&&"http://www.w3.org/1999/xhtml"!==e)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml";return t.createElement(n)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),window.addEventListener||function(t,e,n,i,r,o,s){t[i]=e[i]=n[i]=function(t,e){var n=this;s.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,e.call(n,t)}]),this.attachEvent("on"+t,s[0][3])},t[r]=e[r]=n[r]=function(t,e){var n,i;for(n=0,i;i=s[n];++n)if(i[0]===this&&i[1]===t&&i[2]===e)return this.detachEvent("on"+t,s.splice(n,1)[0][3])},t[o]=e[o]=n[o]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),n=this.length;n>e;e++)if(this.hasOwnProperty(e)&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,i;for(n=0,i=this.length;i>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,r=[];for(n=0,i=this.length;i>n;n+=1)this.hasOwnProperty(n)&&(r[n]=t.call(e,this[n],n,this));return r}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,r=[];for(n=0,i=this.length;i>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)&&(r[r.length]=this[n]);return r})})(document),function(t){"use strict";var e,n,i,r,o,s,a,h,p,u,c,l,f,d,g,m,v,y,w,x,b,_,k,N,E,F,M,O,L=t.document||null,A={},S={},R={},P=function(){},C={},T="Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",j=1,I=2,V=3,B=4,q=7,U=8,z=30,D={},$={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};try{Object.defineProperty({},"test",{value:0}),Object.defineProperties({},{test:{value:0}}),d=Object.defineProperty,g=Object.defineProperties}catch(H){d=function(t,e,n){t[e]=n.value},g=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&d(t,n,e[n])}}try{Object.create(null),m=function(){return Object.create(null)}}catch(H){m=function(){return{}}}A.animate=function(t,n,i){var r,o,s,h,p;for(i=i||{},h=F.animations.length;h--;)F.animations[h].keypath===t&&F.animations[h].stop();return i.easing&&(r="function"==typeof i.easing?i.easing:this.easing&&this.easing[i.easing]?this.easing[i.easing]:e.easing[i.easing],"function"!=typeof r&&(r=null)),o=void 0===i.duration?400:i.duration,p=a(t),s=new x({keys:p,from:this.get(p),to:n,root:this,duration:o,easing:r,step:i.step,complete:i.complete}),F.push(s),{stop:function(){s.stop()}}},A.bind=function(t){var e=this._bound;-1===e.indexOf(t)&&(e[e.length]=t,t.init(this))},A.fire=function(t){var e,n,i,r=this._subs[t];if(r)for(e=Array.prototype.slice.call(arguments,1),n=0,i=r.length;i>n;n+=1)r[n].apply(this,e)},A.get=function(t){var e,n,i,r,o,s,h,u;if(!t)return this.data;if(e=this._cache,p(t))i=t.slice(),r=i.join(".");else{if(e.hasOwnProperty(t)&&e[t]!==D)return e[t];i=a(t),r=i.join(".")}return e.hasOwnProperty(r)&&e[r]!==D?e[r]:this._evaluators[r]?(u=this._evaluators[r].value,e[r]=u,u):(o=i.pop(),s=i.join("."),h=i.length?this.get(i):this.data,null!==h&&"object"==typeof h&&h!==D?((n=this._cacheMap[s])?-1===n.indexOf(r)&&(n[n.length]=r):this._cacheMap[s]=[r],u=h[o],this.modifyArrays&&("("===r.charAt(0)||!p(u)||u._ractive&&u._ractive.setting||M(u,r,this)),e[r]=u,u):void 0)};var Y,Z,J,G,X,W,K;Y=function(t){if(t.keypath)G(t);else{var e=t.root._pendingResolution.indexOf(t);-1!==e&&t.root._pendingResolution.splice(e,1)}},Z=function(t,e){var n,i;if(t.modifyArrays&&"("!==e.charAt(0)&&(n=t._cache[e],p(n)&&!n._ractive.setting&&O(n,e,t)),t._cache[e]=D,i=t._cacheMap[e])for(;i.length;)Z(t,i.pop())},J=function(t){var e,n,i,r,o,s,h,p;for(s=t.root,h=t.keypath,p=t.priority,s._deps[p]||(s._deps[p]={}),e=s._deps[p],e[h]||(e[h]=[]),n=e[h],n[n.length]=t,s._evaluators[h]&&(s._evaluators[h].deps+=1),i=a(h);i.length;)i.pop(),r=i.join("."),s._depsMap[r]||(s._depsMap[r]=[]),o=s._depsMap[r],o.hasOwnProperty(h)||(o[h]=0,o[o.length]=h),o[h]+=1,h=r},G=function(t){var e,n,i,r,o,s,h,p;for(s=t.root,h=t.keypath,p=t.priority,e=s._deps[p][h],e.splice(e.indexOf(t),1),(o=s._evaluators[h])&&(o.deps-=1,o.deps||o.teardown()),n=a(h);n.length;)n.pop(),i=n.join("."),r=s._depsMap[i],r[h]-=1,r[h]||r.splice(r.indexOf(h),1),h=i},X=function(t,e,n){var i;for(i=0;t._deps.length>i;i+=1)Q(t,e,i,n)};var Q=function(t,e,n,i){var r,o,s,a;if(r=t._deps[n]){if(o=r[e])for(s=o.length;s--;)o[s].update();if(!i&&(a=t._depsMap[e]))for(s=a.length;s--;)Q(t,a[s],n)}},te=function(t,e,n){var i,r,o,s;for(s=e.length,r=0;t._deps.length>r;r+=1)for(i=t._deps[r],o=s;o--;)Q(t,e[o],r,n)};W=function(t,e,n){var i,r,o,s,h,p;if("."===e)return n[n.length-1];if("."===e.charAt(0))return n[n.length-1]+e;for(i=a(e),r=i.pop(),n=n.concat();n.length;)if(o=n.pop(),s=a(o),h=t.get(s.concat(i)),"object"==typeof h&&null!==h&&h.hasOwnProperty(r)){p=o+"."+e;break}return p||void 0===t.get(e)||(p=e),p},K=function(t){for(var e,n;t._defEvals.length;)e=t._defEvals.pop(),e.update().deferred=!1;for(;t._defAttrs.length;)n=t._defAttrs.pop(),n.update().deferred=!1},A.link=function(t){var e=this;return function(n){e.set(t,n)}},function(t){var e;t.observe=function(t,n,i){var r,o=[];if("object"==typeof t){i=n;for(r in t)t.hasOwnProperty(r)&&(n=t[r],o[o.length]=e(this,r,n,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}return e(this,t,n,i)},e=function(t,e,n,i){var r,o,s;return i=i||{},s=i.context||t,r={update:function(){var i;if(i=t.get(e,!0),!l(i,o)){try{n.call(s,i,o)}catch(r){if(t.debug)throw r}o=i}},keypath:e,root:t,priority:0},i.init!==!1&&r.update(),J(r),{cancel:function(){G(r)}}}}(A),A.off=function(t,e){var n,i;e||(t?this._subs[t]=[]:this._subs={}),n=this._subs[t],n&&(i=n.indexOf(e),-1!==i&&n.splice(i,1))},A.on=function(t,e){var n,i,r=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&(n[n.length]=this.on(i,t[i]));return{cancel:function(){for(;n.length;)n.pop().cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){r.off(t,e)}}},A.render=function(t){var e,n;if(e=t.el?f(t.el):this.el,!e)throw Error("You must specify a DOM element to render to");t.append||(e.innerHTML=""),this._transitionManager=n=re(t.complete),this.fragment=new v({descriptor:this.template,root:this,owner:this,parentNode:e}),e.appendChild(this.fragment.docFrag),this.ready=!0,this._transitionManager=null,n.ready=!0,t.complete&&!n.active&&t.complete.call(this)},function(t){var e,n;t.set=function(t,i,r){var o,s,h,p,c,l;if(s=[""],o=[],u(t)&&(r=i),this._transitionManager=l=re(r),u(t))for(h in t)t.hasOwnProperty(h)&&(c=a(h),p=c.join("."),i=t[h],e(this,p,c,i,o,s));else c=a(t),p=c.join("."),e(this,p,c,i,o,s);return o.length&&n(this),s.length&&te(this,s,!0),o.length&&te(this,o),K(this),this._transitionManager=null,l.ready=!0,r&&!l.active&&r.call(this),this.setting||(this.setting=!0,"object"==typeof t?this.fire("set",t):this.fire("set",t,i),this.setting=!1),this},e=function(t,e,n,i,r,o){var s,a,h,p;if(p=n.slice(),s=t.get(e),s!==i){for(h=t.data;n.length>1;)a=n.shift(),h[a]||(h[a]=/^\s*[0-9]+\s*$/.test(n[0])?[]:{}),h=h[a];a=n[0],h[a]=i}else if("object"!=typeof i)return;for(Z(t,e),r[r.length]=e;p.length>1;)p.pop(),e=p.join("."),-1===o.indexOf(e)&&(o[o.length]=e)},n=function(t){var e,n,i;for(e=t._pendingResolution.length;e--;)n=t._pendingResolution.splice(e,1)[0],(i=W(t,n.ref,n.contextStack))?n.resolve(i):t._pendingResolution[t._pendingResolution.length]=n}}(A),A.teardown=function(t){var e,n;this.fire("teardown"),this._transitionManager=n=re(t),this.fragment.teardown(!0);for(e in this._cache)Z(this,e);for(;this._bound.length;)this.unbind(this._bound.pop());this._transitionManager=null,n.ready=!0,t&&!n.active&&t.call(this)},A.unbind=function(t){var e,n=this._bound;e=n.indexOf(t),-1!==e&&(n.splice(e,1),t.teardown(this))},A.update=function(t,e){var n;return"function"==typeof t&&(e=t),this._transitionManager=n=re(e),Z(this,t||""),X(this,t||""),K(this),this._transitionManager=null,n.ready=!0,e&&!n.active&&e.call(this),"string"==typeof t?this.fire("update",t):this.fire("update"),this},S.backbone=function(t,e){var n,i,r,o,s,a,h;return e&&(e+=".",s=RegExp("^"+e.replace(/\./g,"\\.")),a=e.length),{init:function(p){e?(h=function(t){var n,i;i={};for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i},o=function(t){n||(i=!0,p.set(h(t.changed)),i=!1)},r=function(e,r){i||s.test(e)&&(n=!0,t.set(e.substring(a),r),n=!1)}):(o=function(t){n||(i=!0,p.set(t.changed),i=!1)},r=function(e,r){i||(n=!0,t.set(e,r),n=!1)}),t.on("change",o),p.on("set",r),p.set(e?h(t.attributes):t.attributes)},teardown:function(e){t.off("change",o),e.off("set",r)}}},S.statesman=function(t,e){var n,i,r,o;return e=e?e+".":"",{init:function(e){o=function(t,r){n||(i=!0,e.set(t,r),i=!1)},r=function(e,r){i||(n=!0,t.set(e,r),n=!1)},t.on("set",o),e.on("set",r),e.set(t.get())},teardown:function(e){t.off("change",o),e.off("set",r)}}},n={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},R.tap=function(t,e){var n,i,r,o;return r=5,o=400,n=function(t){var n,i,s,a,h,p;i=t.clientX,s=t.clientY,n=this,a=function(t){e(n,t),p()},h=function(t){(Math.abs(t.clientX-i)>=r||Math.abs(t.clientY-s)>=r)&&p()},p=function(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",a)},window.addEventListener("mousemove",h),window.addEventListener("mouseup",a),setTimeout(p,o)},t.addEventListener("mousedown",n),i=function(t){var n,i,s,a,h,p,u,c;1===t.touches.length&&(a=t.touches[0],i=a.clientX,s=a.clientY,n=this,h=a.identifier,u=function(t){var i;i=t.changedTouches[0],i.identifier!==h&&c(),t.preventDefault(),e(n,t),c()},p=function(t){var e;(1!==t.touches.length||t.touches[0].identifier!==h)&&c(),e=t.touches[0],(Math.abs(e.clientX-i)>=r||Math.abs(e.clientY-s)>=r)&&c()},c=function(){window.removeEventListener("touchmove",p),window.removeEventListener("touchend",u),window.removeEventListener("touchcancel",c)},window.addEventListener("touchmove",p),window.addEventListener("touchend",u),window.addEventListener("touchcancel",c),setTimeout(c,o))},t.addEventListener("touchstart",i),{teardown:function(){t.removeEventListener("mousedown",n),t.removeEventListener("touchstart",i)}}},function(){var t,n,r,o,s,a,h,p,c,l,f,d;i=function(t){var n,i,r;n=this,i=function(t){c(this,i,t)},n!==e&&o(i,n);for(r in n.prototype)n.prototype.hasOwnProperty(r)&&(i.prototype[r]=n.prototype[r]);return s(i,t),a(i),h(i),p(i),i.extend=n.extend,i},l=["data","partials","transitions"],f=["el","template","complete","modifyArrays","twoway","lazy","append","preserveWhitespace","sanitize"],d=l.concat(f),o=function(t,e){l.forEach(function(i){e[i]&&(t[i]=n(e[i]))}),f.forEach(function(n){void 0!==e[n]&&(t[n]=e[n])})},s=function(t,n){var i;l.forEach(function(e){var i=n[e];i&&(t[e]?r(t[e],i):t[e]=i)}),f.forEach(function(e){void 0!==n[e]&&(t[e]=n[e])});for(i in n)if(n.hasOwnProperty(i)&&-1===d.indexOf(i)){if(e.prototype.hasOwnProperty(i))throw Error('Cannot override "'+i+'" method or property of Ractive prototype');t.prototype[i]=n[i]}},a=function(t){if("string"==typeof t.template){if(!e.parse)throw Error(T);t.template=e.parse(t.template,t)}},h=function(t){u(t.template)&&(t.partials||(t.partials={}),r(t.partials,t.template.partials),childProps.partials&&r(t.partials,childProps.partials),t.template=t.template.template)},p=function(t){var n,i;if(t.partials)for(n in t.partials)if(t.partials.hasOwnProperty(n)){if("string"==typeof t.partials[n]){if(!e.parse)throw Error(T);i=e.parse(t.partials[n],t)}else i=t.partials[n];t.partials[n]=i}},c=function(i,r,o){!o.template&&r.template&&(o.template=r.template),l.forEach(function(e){o[e]?t(o[e],r[e]):r[e]&&(o[e]=n(r[e]))}),f.forEach(function(t){void 0===o[t]&&void 0!==r[t]&&(o[t]=r[t])}),e.call(i,o),i.init&&i.init.call(i,o)},t=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])},n=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},r=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}}(),r=function(t,n){return c(t)&&c(n)?e.interpolators.number(+t,+n):p(t)&&p(n)?e.interpolators.array(t,n):u(t)&&u(n)?e.interpolators.object(t,n):function(){return n}},o={number:function(t,e){var n=e-t;return n?function(e){return t+e*n}:function(){return t}},array:function(t,n){var i,r,o,s;for(i=[],r=[],s=o=Math.min(t.length,n.length);s--;)r[s]=e.interpolate(t[s],n[s]);for(s=o;t.length>s;s+=1)i[s]=t[s];for(s=o;n.length>s;s+=1)i[s]=n[s];return function(t){for(var e=o;e--;)i[e]=r[e](t);return i}},object:function(t,n){var i,r,o,s,a=[];o={},r={};for(s in t)t.hasOwnProperty(s)&&(n.hasOwnProperty(s)?(a[a.length]=s,r[s]=e.interpolate(t[s],n[s])):o[s]=t[s]);for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(o[s]=n[s]);return i=a.length,function(t){for(var e,n=i;n--;)e=a[n],o[e]=r[e](t);return o}}};var ee=m();g(ee,{preserveWhitespace:{enumerable:!0,value:!1},append:{enumerable:!0,value:!1},twoway:{enumerable:!0,value:!0},modifyArrays:{enumerable:!0,value:!0},data:{enumerable:!0,value:{}},lazy:{enumerable:!0,value:!1},debug:{enumerable:!0,value:!1},transitions:{enumerable:!0,value:{}}}),e=function(t){var n,i,r,o,s,a;for(n in ee)t.hasOwnProperty(n)||(t[n]=ee[n]);if(g(this,{_guid:{value:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=0|16*Math.random(),n="x"==t?e:8|3&e,n.toString(16)})},_subs:{value:m()},_cache:{value:{}},_cacheMap:{value:m()},_deps:{value:[]},_depsMap:{value:m()},_pendingResolution:{value:[]},_defAttrs:{value:[]},_defEvals:{value:[]},_proxies:{value:{}},_evaluators:{value:{}},_bound:{value:[]},_transitionManager:{value:null,writable:!0},nodes:{value:{}}}),this.modifyArrays=t.modifyArrays,this.twoway=t.twoway,this.lazy=t.lazy,this.debug=t.debug,this.el=f(t.el),this.data=t.data||{},this.partials={},this.transitions=t.transitions,t.bindings)if(p(t.bindings))for(r=0;t.bindings.length>r;r+=1)this.bind(t.bindings[r]);else this.bind(t.bindings);if(o=t.template,"string"==typeof o){if(!e.parse)throw Error(T);if("#"===o.charAt(0)){if(s=L.getElementById(o.substring(1)),!s)throw Error("Could not find template element ("+o+")");a=e.parse(s.innerHTML,t)}else a=e.parse(o,t)}else a=o;if(u(a)&&(this.partials=a.partials,a=a.template),a&&1===a.length&&"string"==typeof a[0]&&(a=a[0]),this.template=a,t.partials)for(n in t.partials)if(t.partials.hasOwnProperty(n)){if(i=t.partials[n],"string"==typeof i){if(!e.parse)throw Error(T);i=e.parse(i,t)}this.partials[n]=i}for(n in this.partials)this.partials.hasOwnProperty(n)&&1===this.partials[n].length&&"string"==typeof this.partials[n][0]&&(this.partials[n]=this.partials[n][0]);this.el&&this.render({el:this.el,append:t.append,complete:t.complete})},function(){var t,e,i,r,o,a;L&&(r=L.createElement("div"),void 0!==r.style.transition?(e="transition",i="transitionend",t=!0):void 0!==r.style.webkitTransition?(e="webkitTransition",i="webkitTransitionEnd",t=!0):t=!1,o=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},a=t?function(t){return function(r,s){var a,h,p;p=t.duration||400,n=o(t.easing||"linear"),h=r.style[e],r.style[t.property]=t.from,setTimeout(function(){r.style[e]=p/1e3+"s "+t.property+" "+n,a=function(){r.removeEventListener(i,a),r.style.transition=h,s()},r.addEventListener(i,a),r.style[t.property]=t.to},0)}}:function(){return function(t,e){e()}},s={fadeIn:a({property:"opacity",from:.01,to:1,duration:300,easing:"linear"}),fadeOut:a({property:"opacity",from:1,to:.01,duration:300,easing:"linear"}),staggeredFadeIn:function(t,e,n,i){var r,o;n&&(o=n.stagger),void 0===o&&(o=20),r=i*o,t.style.opacity=0,setTimeout(function(){s.fadeIn(t,e)},r)},staggeredFadeOut:function(t,e,n,i){var r,o;n&&(o=n.stagger),void 0===o&&(o=20),r=i*o,setTimeout(function(){s.fadeOut(t,e)},r)}})}(),x=function(t){var n;this.startTime=Date.now();for(n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.interpolator=e.interpolate(this.from,this.to),this.running=!0},x.prototype={tick:function(){var t,e,n,i;return this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(this.root.set(this.keys,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,n=this.interpolator(e),this.root.set(this.keys,n),this.step&&this.step(e,n),!0)):!1},stop:function(){this.running=!1}},F={animations:[],tick:function(){var e,n;for(e=0;this.animations.length>e;e+=1)n=this.animations[e],n.tick()||this.animations.splice(e--,1);this.animations.length?t.requestAnimationFrame(this.boundTick):this.running=!1},boundTick:function(){F.tick()},push:function(t){this.animations[this.animations.length]=t,this.running||(this.running=!0,this.tick())}},function(t,e,n){var i;for(i=0;t.length>i&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[t[i]+"CancelAnimationFrame"]||n[t[i]+"CancelRequestAnimationFrame"];n.requestAnimationFrame||(n.requestAnimationFrame=function(t){var i,r,o;return i=Date.now(),r=Math.max(0,16-(i-e)),o=n.setTimeout(function(){t(i+r)},r),e=i+r,o}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){n.clearTimeout(t)})}(["ms","moz","webkit","o"],0,t),function(){var t,e,n,i,r,o;M=function(t,n,i){var r,o,s;t._ractive?(r=t._ractive.roots,o=t._ractive.keypathsByGuid,o[i._guid]||(r[r.length]=i,o[i._guid]=[]),s=o[i._guid],-1===s.indexOf(n)&&(s[s.length]=n)):(d(t,"_ractive",{value:{roots:[i],keypathsByGuid:{}},configurable:!0}),t._ractive.keypathsByGuid[i._guid]=[n],e(t))},O=function(t,e,i){var r,o,s,a;if(!t._ractive)throw Error("Attempted to remove keypath from non-wrapped array. This error is unexpected - please send a bug report to @rich_harris");if(r=t._ractive.roots,o=t._ractive.keypathsByGuid,!o[i._guid])throw Error("Ractive instance was not listed as a dependent of this array. This error is unexpected - please send a bug report to @rich_harris");if(s=o[i._guid],a=s.indexOf(e),-1===a)throw Error("Attempted to unlink non-linked keypath from array. This error is unexpected - please send a bug report to @rich_harris");s.splice(a,1),s.length||(r.splice(r.indexOf(i),1),o[i._guid]=null),r.length||n(t)},t=function(t,e,n){var i,r,o,s,h,p;p=t._ractive.keypathsByGuid,i=function(t){for(var e=t.length;e--;)r(t[e])},r=function(t){t._transitionManager=re(P),o(t,p[t._guid]),t._transitionManager=null},o=function(t,e){for(var n=e.length;n--;)s(t,e[n])},s=function(t,i){var r,o,s,p,u,c,l;for(p=[],Z(t,i),s=a(i);s.length;)s.pop(),p[p.length]=s.join(".");for(p[p.length]=i+".length",te(t,p,!0),u=[],c=[],l=0;t._deps.length>l;l+=1)if(r=t._deps[l],r&&(o=r[i])){for(h(t,i,o,u,c),K(t);u.length;)u.pop().smartUpdate(e,n);for(;c.length;)c.pop().update()}K(t)},h=function(t,e,n,i,r){var o,s;for(o=n.length;o--;)s=n[o],s.type===z?s.update():s.keypath===e&&s.type===B?i[i.length]=s:r=s},i(t._ractive.roots)},i=[],o=["pop","push","reverse","shift","sort","splice","unshift"],o.forEach(function(e){var n=function(){var n=Array.prototype[e].apply(this,arguments);return this._ractive.setting=!0,t(this,e,arguments),this._ractive.setting=!1,n};d(i,e,{value:n})}),r={},r.__proto__?(e=function(t){t.__proto__=i},n=function(t){delete t._ractive,t.__proto__=Array.prototype}):(e=function(t){var e,n;for(e=o.length;e--;)n=o[e],d(t,n,{value:i[n]})},n=function(t){var e;for(e=o.length;e--;)delete t[o[e]];delete t._ractive})}(),function(t){var e,n;w=function(t,i,r,o,s){var a,h;for(this.root=t,this.keypath=i,this.fn=n(r,o.length),this.values=[],this.refs=[],this.deps=0,a=o.length;a--;)h=o[a],h[0]?this.values[a]=h[1]:this.refs[this.refs.length]=new e(t,h[1],this,a,s);this.selfUpdating=1>=this.refs.length,this.update()},w.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._defEvals[this.root._defEvals.length]=this,this.deferred=!0)},update:function(){var t;try{t=this.fn.apply(null,this.values)}catch(e){if(this.root.debug)throw e;t=void 0}return l(t,this.value)||(Z(this.root,this.keypath),this.root._cache[this.keypath]=t,X(this.root,this.keypath),this.value=t),this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();Z(this.root,this.keypath),this.root._evaluators[this.keypath]=null}},e=function(t,e,n,i,r){this.evaluator=n,this.keypath=e,this.root=t,this.argNum=i,this.type=z,this.priority=r,this.value=n.values[i]=t.get(e),J(this)},e.prototype={update:function(){var t=this.root.get(this.keypath);l(t,this.value)||(this.evaluator.values[this.argNum]=t,this.evaluator.bubble(),this.value=t)},teardown:function(){G(this)}},n=function(e,n){var i,r;if(e=e.replace(/❖/g,"_"),t[e])return t[e];for(r=[];n--;)r[n]="_"+n;return i=Function(r.join(","),"return("+e+")"),t[e]=i,i}}({});var ne;(function(){var t,e;ne=function(e){var n,i,r,o,s;for(this.root=e.root,this.mustache=e,this.numRefs=0,this.args=[],n=e.descriptor.x,s=e.parentFragment.indexRefs,this.str=n.s,r=this.unresolved=n.r?n.r.length:0,r||this.init(),i=0;r>i;i+=1)o=n.r[i],s&&void 0!==s[o]?this.resolveRef(i,!0,s[o].index):(this.numRefs+=1,new t(this,o,e.contextStack,i))},ne.prototype={init:function(){this.keypath=e(this.str,this.args),this.createEvaluator(),this.mustache.resolve(this.keypath)},resolveRef:function(t,e,n){this.args[t]=[e,n],--this.unresolved||this.init()},createEvaluator:function(){this.root._evaluators[this.keypath]||(this.root._evaluators[this.keypath]=new w(this.root,this.keypath,this.str,this.args,this.mustache.priority))}},t=function(t,e,n,i){var r,o;o=t.root,r=W(o,e,n),r?t.resolveRef(i,!1,r):(this.ref=e,this.argNum=i,this.resolver=t,this.contextStack=n,o._pendingResolution[o._pendingResolution.length]=this)},t.prototype={resolve:function(t){this.resolver.resolveRef(this.argNum,!1,t)}},e=function(t,e){var n;return n=t.replace(/❖([0-9]+)/g,function(t,n){return e[n][1]}),"("+n.replace(/[\.\[\]]/g,"-")+")"}})();var ie=function(t,n){var i,r;if(t.partials&&t.partials[n])return t.partials[n];if(e.partials[n]){if("string"==typeof e.partials[n]){if(!e.parse)throw Error(T);e.partials[n]=e.parse(e.partials[n])}}else if(i=L.getElementById(n),i&&"SCRIPT"===i.tagName){if(!e.parse)throw Error(T);e.partials[n]=e.parse(i.innerHTML)}return r=e.partials[n],r?1===r.length&&"string"==typeof r[0]?r[0]:r:(t.debug&&console&&console.warn&&console.warn('Could not find descriptor for partial "'+n+'"'),[])};N=function(t,e){var n,i,r,o,s;if(t.owner=e.owner,t.root=e.root,t.parentNode=e.parentNode,t.contextStack=e.contextStack||[],t.owner.type===B&&(t.index=e.index),t.owner.parentFragment&&(o=t.owner.parentFragment.indexRefs)){t.indexRefs=m();for(s in o)t.indexRefs[s]=o[s]}for(e.indexRef&&(t.indexRefs||(t.indexRefs={}),t.indexRefs[e.indexRef]={index:e.index,keypath:e.owner.keypath}),t.items=[],r={parentFragment:t},n=e.descriptor?e.descriptor.length:0,i=0;n>i;i+=1)r.descriptor=e.descriptor[i],r.index=i,t.items[t.items.length]=t.createItem(r)},b=function(t,e){var n,i,r;r=t.parentFragment=e.parentFragment,t.root=r.root,t.contextStack=r.contextStack,t.descriptor=e.descriptor,t.index=e.index||0,t.priority=e.descriptor.p||0,r.parentNode&&(t.parentNode=r.parentNode),t.type=e.descriptor.t,e.descriptor.r&&(r.indexRefs&&void 0!==r.indexRefs[e.descriptor.r]?(i=r.indexRefs[e.descriptor.r],t.refIndex=i.index,t.render(t.refIndex)):(n=W(t.root,e.descriptor.r,t.contextStack),n?t.resolve(n):(t.ref=e.descriptor.r,t.root._pendingResolution[t.root._pendingResolution.length]=t,t.descriptor.n&&t.render(!1)))),e.descriptor.x&&new ne(t)},_=function(){var t;t=this.root.get(this.keypath,!0),l(t,this.value)||(this.render(t),this.value=t)},k=function(t){this.keypath=t,J(this),this.update()},E=function(t,e){var n,i,r,o,s;if(n={descriptor:t.descriptor.f,root:t.root,parentNode:t.parentNode,owner:t},i=p(e),i&&0===e.length&&(r=!0),t.descriptor.n){if(e&&!r)t.length&&(t.teardownFragments(!0),t.length=0);else if(!t.length)return n.contextStack=t.contextStack,n.index=0,t.fragments[0]=t.createFragment(n),t.length=1,void 0}else if(i){if(e.length<t.length)for(s=t.fragments.splice(e.length,t.length-e.length);s.length;)s.pop().teardown(!0);else if(e.length>t.length)for(o=t.length;e.length>o;o+=1)n.contextStack=t.contextStack.concat(t.keypath+"."+o),n.index=o,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[o]=t.createFragment(n);t.length=e.length}else u(e)?t.length||(n.contextStack=t.contextStack.concat(t.keypath),n.index=0,t.fragments[0]=t.createFragment(n),t.length=1):e&&!r?t.length||(n.contextStack=t.contextStack,n.index=0,t.fragments[0]=t.createFragment(n),t.length=1):t.length&&(t.teardownFragments(!0),t.length=0)},function(){var t,n,i,r,o,s,a,h,p;n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},t=function(t,e){var n,i=[];for(n=L.createElement("div"),n.innerHTML=t;n.firstChild;)i[i.length]=n.firstChild,e.appendChild(n.firstChild);return i},v=function(e){return this.docFrag=L.createDocumentFragment(),"string"==typeof e.descriptor?(this.nodes=t(e.descriptor,this.docFrag),void 0):(N(this,e),void 0)},v.prototype={createItem:function(t){if("string"==typeof t.descriptor)return new i(t,this.docFrag);switch(t.descriptor.t){case I:return new a(t,this.docFrag);case B:return new p(t,this.docFrag);case V:return new h(t,this.docFrag);case q:return new r(t,this.docFrag);case U:return new o(t,this.docFrag);default:throw"WTF? not sure what happened here..."}},teardown:function(t){var e;if(t&&this.nodes)for(;this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);else if(this.items)for(;this.items.length;)this.items.pop().teardown(t)},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():null}},o=function(t,e){var n,i=this.parentFragment=t.parentFragment;this.type=U,this.name=t.descriptor.r,n=ie(i.root,t.descriptor.r),this.fragment=new v({descriptor:n,root:i.root,parentNode:i.parentNode,contextStack:i.contextStack,owner:this}),e.appendChild(this.fragment.docFrag)},o.prototype={teardown:function(t){this.fragment.teardown(t)}},i=function(t,e){this.type=j,this.node=L.createTextNode(t.descriptor),this.parentNode=t.parentFragment.parentNode,e.appendChild(this.node)},i.prototype={teardown:function(t){t&&this.parentNode.removeChild(this.node)},firstNode:function(){return this.node}},r=function(t,n){var i,r,o,a,h,p,u,c,l,f,d,g,m,w,x;if(this.type=q,i=this.parentFragment=t.parentFragment,r=this.descriptor=t.descriptor,this.root=d=i.root,this.parentNode=i.parentNode,this.index=t.index,this.eventListeners=[],this.customEventListeners=[],r.a&&r.a.xmlns){if(o=r.a.xmlns,"string"!=typeof o)throw Error("Namespace attribute cannot contain mustaches")}else o=this.parentNode.namespaceURI;if(this.node=L.createElementNS(o,r.e),r.f&&("string"==typeof r.f&&this.node.namespaceURI===$.html?this.node.innerHTML=r.f:(this.fragment=new v({descriptor:r.f,root:d,parentNode:this.node,contextStack:i.contextStack,owner:this}),this.node.appendChild(this.fragment.docFrag))),r.v)for(a in r.v)r.v.hasOwnProperty(a)&&this.addEventProxy(a,r.v[a],i.contextStack);this.attributes=[],l=[];for(p in r.a)r.a.hasOwnProperty(p)&&(c=r.a[p],u=p.toLowerCase(),"intro"===u||"outro"===u||"intro-params"===u||"outro-params"===u?(u=u.replace("-params","Params"),this[u]="string"==typeof c?c:new y({descriptor:c,root:d,owner:this,contextStack:i.contextStack})):(h=new s({element:this,name:p,value:void 0===c?null:c,root:d,parentNode:this.node,contextStack:i.contextStack}),this.attributes[this.attributes.length]=h,h.isBindable&&l.push(h),h.isTwowayNameAttr?f=h:h.update()));for(;l.length;)l.pop().bind(this.root.lazy);if(f&&(f.updateViewModel(),f.update()),n.appendChild(this.node),this.intro&&(g=""+this.intro,x=d.transitions[g]||e.transitions[g])){if(w=d._transitionManager,w&&w.push(),this.introParams){m=""+this.introParams;try{m=JSON.parse(m)}catch(b){}}x.call(d,this.node,w?w.pop:P,m,w.info,!0)}},r.prototype={addEventProxy:function(t,n,i){var r,o,s,a,h,p=this.root;"string"==typeof n?(r=n,o=!0):r=new y({descriptor:n,root:this.root,owner:this,contextStack:i}),(s=e.eventDefinitions[t])?(o?(p._proxies[n]||(p._proxies[n]=function(){arguments.length?(Array.prototype.unshift.call(arguments,r),p.fire.apply(p,arguments)):p.fire(r)}),h=p._proxies[n]):h=function(){arguments.length?(Array.prototype.unshift.call(arguments,""+r),p.fire.apply(p,arguments)):p.fire(""+r)},a=s(this.node,h),this.customEventListeners[this.customEventListeners.length]=a):(void 0!==this.node["on"+t]&&p.debug&&console&&console.warn&&console.warn("Invalid event handler ("+t+")"),o?(p._proxies[n]||(p._proxies[n]=function(t){p.fire(r,this,t)}),h=p._proxies[n]):h=function(t){p.fire(""+r,this,t)},this.eventListeners[this.eventListeners.length]={n:t,h:h},this.node.addEventListener(t,h))},teardown:function(t){var n,i,r,o,s,a=this;for(a.fragment&&a.fragment.teardown(!1);a.attributes.length;)a.attributes.pop().teardown();for(;a.eventListeners.length;)o=a.eventListeners.pop(),a.node.removeEventListener(o.n,o.h);for(;a.customEventListeners.length;)a.customEventListeners.pop().teardown();if(this.outro){if(i=""+this.outro,s=this.root.transitions[i]||e.transitions[i]){if(n=this.root._transitionManager,n&&n.push(),this.outroParams){r=""+this.outroParams;try{r=JSON.parse(r)}catch(h){}}s.call(this.root,this.node,function(){t&&a.parentNode.removeChild(a.node),n&&n.pop()},r,n.info)}}else t&&a.parentNode.removeChild(a.node)},firstNode:function(){return this.node},bubble:function(){}},s=function(t){var e,i,r,o,s,a,h,p,u,c,l;if(e=t.name,i=t.value,r=e.indexOf(":"),-1!==r&&(o=e.substr(0,r),"xmlns"!==o&&(e=e.substring(r+1),this.namespace=$[o],!this.namespace)))throw'Unknown namespace ("'+o+'")';if(null===i||"string"==typeof i)return this.namespace?t.parentNode.setAttributeNS(this.namespace,e,i):t.parentNode.setAttribute(e,i),"id"===e.toLowerCase()&&(t.root.nodes[i]=t.parentNode),this.name=e,this.value=i,void 0;for(this.root=t.root,this.element=t.element,this.parentNode=t.parentNode,this.name=e,this.lcName=e.toLowerCase(),this.namespace||t.parentNode.namespaceURI!==$.html||(h=this.lcName,p=n[h]||h,void 0!==t.parentNode[p]&&(this.propertyName=p),("boolean"==typeof t.parentNode[p]||"value"===p)&&(this.useProperty=!0)),this.parentFragment=this.element.parentFragment,this.fragment=new y({descriptor:i,root:this.root,owner:this,contextStack:t.contextStack}),this.selfUpdating=!0,u=this.fragment.items.length;u--;)if(c=this.fragment.items[u],c.type!==j){if(c.type!==I){this.selfUpdating=!1;break}if(l){this.selfUpdating=!1;break}l=!0}this.root.twoway&&(s=this.element.descriptor.e.toLowerCase(),a=!("name"!==p&&"value"!==p&&"checked"!==p||"input"!==s&&"textarea"!==s&&"select"!==s)),a&&(this.isBindable=!0,"name"===p&&(this.isTwowayNameAttr=!0)),this.ready=!0},s.prototype={bind:function(t){var e,n,i,r,o=this,s=this.parentNode;if(!this.fragment)return!1;if(1!==this.fragment.items.length||this.fragment.items[0].type!==I||!this.fragment.items[0].keypath&&!this.fragment.items[0].ref)return this.root.debug&&console&&console.warn&&console.warn("Not a valid two-way data binding candidate - must be a single interpolator:",this.fragment.items),!1;if(this.interpolator=this.fragment.items[0],this.keypath=this.interpolator.keypath||this.interpolator.descriptor.r,"SELECT"===s.tagName&&"value"===this.propertyName)for(e=s.getElementsByTagName("option"),r=e.length,i=0;r>i;i+=1)if(n=e[i],n.hasAttribute("selected")){this.root.set(this.keypath,n.value);
break}"checkbox"===s.type||"radio"===s.type?"name"===this.propertyName?(s.name="{{"+this.keypath+"}}",this.updateViewModel=function(){s.checked&&o.root.set(o.keypath,s.value)}):"checked"===this.propertyName&&(this.updateViewModel=function(){o.root.set(o.keypath,s.checked)}):this.updateViewModel=function(){var t;t=s.value,"0"===t?t=0:""!==t&&(t=+t||t),o.root.set(o.keypath,t)},this.updateViewModel&&(this.twoway=!0,s.addEventListener("change",this.updateViewModel),s.addEventListener("click",this.updateViewModel),s.addEventListener("blur",this.updateViewModel),t||(s.addEventListener("keyup",this.updateViewModel),s.addEventListener("keydown",this.updateViewModel),s.addEventListener("keypress",this.updateViewModel),s.addEventListener("input",this.updateViewModel)))},updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.r,"name"===this.propertyName&&(this.parentNode.name="{{"+this.keypath+"}}")},teardown:function(){this.updateViewModel&&(this.parentNode.removeEventListener("change",this.updateViewModel),this.parentNode.removeEventListener("click",this.updateViewModel),this.parentNode.removeEventListener("blur",this.updateViewModel),this.parentNode.removeEventListener("keyup",this.updateViewModel),this.parentNode.removeEventListener("keydown",this.updateViewModel),this.parentNode.removeEventListener("keypress",this.updateViewModel),this.parentNode.removeEventListener("input",this.updateViewModel)),this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},update:function(){var t,e;if(!this.ready)return this;if(this.twoway){if(e=this.lcName,t=this.interpolator.value,"name"===e&&("checkbox"===this.parentNode.type||"radio"===this.parentNode.type))return this.parentNode.checked=t===this.parentNode.value?!0:!1,this;if(L.activeElement===this.parentNode)return this}if(t=this.fragment.getValue(),void 0===t&&(t=""),t!==this.value){if(this.useProperty)return this.parentNode[this.propertyName]=t,this;if(this.namespace)return this.parentNode.setAttributeNS(this.namespace,this.name,t),this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[t]=this.parentNode),this.parentNode.setAttribute(this.name,t),this.value=t}return this}},a=function(t,e){this.type=I,this.node=L.createTextNode(""),e.appendChild(this.node),b(this,t)},a.prototype={update:_,resolve:k,teardown:function(t){Y(this),t&&this.parentNode.removeChild(this.node)},render:function(t){this.node.data=void 0===t?"":t},firstNode:function(){return this.node}},h=function(t,e){this.type=V,this.nodes=[],this.docFrag=L.createDocumentFragment(),this.initialising=!0,b(this,t),e.appendChild(this.docFrag),this.initialising=!1},h.prototype={update:_,resolve:k,teardown:function(t){if(t)for(;this.nodes.length;)this.parentNode.removeChild(this.nodes.pop());Y(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(e){for(;this.nodes.length;)this.parentNode.removeChild(this.nodes.pop());return void 0===e?(this.nodes=[],void 0):(this.nodes=t(e,this.docFrag),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),void 0)}},p=function(t,e){this.type=B,this.fragments=[],this.length=0,this.docFrag=L.createDocumentFragment(),this.initialising=!0,b(this,t),e.appendChild(this.docFrag),this.initialising=!1},p.prototype={update:_,resolve:k,smartUpdate:function(t,e){var n;("push"===t||"unshift"===t||"splice"===t)&&(n={descriptor:this.descriptor.f,root:this.root,parentNode:this.parentNode,owner:this},this.descriptor.i&&(n.indexRef=this.descriptor.i)),this[t]&&this[t](n,e)},pop:function(){this.length&&(this.fragments.pop().teardown(!0),this.length-=1)},push:function(t,e){var n,i,r;for(n=this.length,i=n+e.length,r=n;i>r;r+=1)t.contextStack=this.contextStack.concat(this.keypath+"."+r),t.index=r,this.fragments[r]=this.createFragment(t);this.length+=e.length,this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},shift:function(){this.splice(null,[0,1])},unshift:function(t,e){this.splice(t,[0,0].concat(Array(e.length)))},splice:function(t,e){var n,i,r,o,s,a,h,p,c;if(e.length&&(a=+(0>e[0]?this.length+e[0]:e[0]),i=Math.max(0,e.length-2),r=void 0!==e[1]?e[1]:this.length-a,o=i-r)){if(0>o){for(h=a-o,s=a;h>s;s+=1)this.fragments[s].teardown(!0);this.fragments.splice(a,-o)}else{for(h=a+o,n=this.fragments[a]?this.fragments[a].firstNode():this.parentFragment.findNextNode(this),p=[a,0].concat(Array(o)),this.fragments.splice.apply(this.fragments,p),s=a;h>s;s+=1)t.contextStack=this.contextStack.concat(this.keypath+"."+s),t.index=s,this.fragments[s]=this.createFragment(t);this.parentNode.insertBefore(this.docFrag,n)}this.length+=o,c=a+i,u(this.root,this,c,this.length,o)}},teardown:function(t){this.teardownFragments(t),Y(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(t){for(;this.fragments.length;)this.fragments.shift().teardown(t)},render:function(t){E(this,t),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},createFragment:function(t){var e=new v(t);return this.docFrag.appendChild(e.docFrag),e}};var u=function(t,e,n,i,r){var o,s,a,h,p,u,l;for(a=e.descriptor.i,o=n;i>o;o+=1)s=e.fragments[o],h=o-r,p=o,u=e.keypath+"."+(o-r),l=e.keypath+"."+o,s.index+=r,c(s,a,h,p,r,u,l);K(t)},c=function(t,e,n,i,r,o,s){var a,h,p;for(t.indexRefs&&void 0!==t.indexRefs[e]&&(t.indexRefs[e].index=i),a=t.contextStack.length;a--;)p=t.contextStack[a],p.substr(0,o.length)===o&&(t.contextStack[a]=p.replace(o,s));for(a=t.items.length;a--;)switch(h=t.items[a],h.type){case q:l(h,e,n,i,r,o,s);break;case U:c(h.fragment,e,n,i,r,o,s);break;case B:case I:case V:f(h,e,n,i,r,o,s)}},l=function(t,e,n,i,r,o,s){var a,h;for(a=t.attributes.length;a--;)h=t.attributes[a],h.fragment&&(c(h.fragment,e,n,i,r,o,s),h.twoway&&h.updateBindings());t.fragment&&c(t.fragment,e,n,i,r,o,s)},f=function(t,e,n,i,r,o,s){var a;if(t.descriptor.x?(G(t),new ne(t)):t.keypath?t.keypath.substr(0,o.length)===o&&(G(t),t.keypath=t.keypath.replace(o,s),J(t)):t.refIndex&&(t.refIndex=i,t.render(i)),t.fragments)for(a=t.fragments.length;a--;)c(t.fragments[a],e,n,i,r,o,s)}}(),function(){var t,e,n,i;r=function r(t){N(this,t)},r.prototype={createItem:function(r){if("string"==typeof r.descriptor)return new t(r.descriptor);switch(r.descriptor.t){case I:return new e(r);case V:return new n(r);case B:return new i(r);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var t;return 1===this.items.length&&this.items[0].type===I&&(t=this.items[0].value,void 0!==t)?t:""+this},toString:function(){return this.items.join("")}},t=function(t){this.type=j,this.text=t},t.prototype={toString:function(){return this.text},teardown:function(){}},e=function(t){this.type=I,b(this,t)},e.prototype={update:_,resolve:k,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){Y(this)},toString:function(){return void 0===this.value?"":this.value}},n=e,i=function(t){this.type=B,this.fragments=[],this.length=0,b(this,t)},i.prototype={update:_,resolve:k,teardown:function(){this.teardownFragments(),Y(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){E(this,t),this.parentFragment.bubble()},createFragment:function(t){return new r(t)},toString:function(){return this.fragments.join("")}}}();var re=function(t){var e;return e={active:0,info:{i:0},push:function(){e.active+=1,e.info.i+=1},pop:function(){e.active-=1,t&&!e.active&&e.ready&&t()}}};a=function(t){var e,n,i,r,o;if(C[t])return C[t].concat();for(i=[],r=t,n=0;r.length;){if(e=r.indexOf(".",n),-1===e)o=r,r="";else{if("\\"===r.charAt(e-1)&&"\\"!==r.charAt(e-2)){n=e+1;continue}o=r.substr(0,e),n=0}/\[/.test(o)?i=i.concat(o.replace(/\[\s*([0-9]+)\s*\]/g,".$1").split(".")):i[i.length]=o,r=r.substring(e+1)}return C[t]=i,i.concat()},h=Object.prototype.toString,p=function(t){return"[object Array]"===h.call(t)},l=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},u=function(t){return"[object Object]"===h.call(t)&&"function"!=typeof t},f=function(t){var e;if("undefined"!=typeof window){if(!t)throw Error("No container element specified");if(t.tagName)return t;if("string"==typeof t&&(e=L.getElementById(t),!e&&L.querySelector&&(e=L.querySelector(t)),e.tagName))return e;if(t[0]&&t[0].tagName)return t[0];throw Error("Could not find container element")}},e.prototype=A,e.adaptors=S,e.eventDefinitions=R,e.partials={},e.easing=n,e.extend=i,e.interpolate=r,e.interpolators=o,e.parse=parse,e.transitions=s,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Ractive=e}(this);