(function(t){"use strict";var e,n,i,r,s,o,a,h,u,p,c,l,d={},f={},g={},m={},v={},y=/^\s+/,w=/\s+$/,x=1,b=2,k=3,N=4,_=5,F=6,E=7,O=8,L=9,S=10,M=11,A=12,C=20,R=21,V=22,T=23,P=24,j=26,I=30,q=31,D=32,z=33,B=34,U=35,Q=40,Y={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d.animate=function(t,n,i){var r,s,a,h,u;for(i=i||{},h=o.animations.length;h--;)o.animations[h].keypath===t&&o.animations[h].stop();i.easing&&(r="function"==typeof i.easing?i.easing:this.easing&&this.easing[i.easing]?this.easing[i.easing]:e.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,u=se(t),a=new p({keys:u,from:this.get(u),to:n,root:this,duration:s,easing:r,step:i.step,complete:i.complete}),o.push(a)},d.bind=function(t){var e=this._bound;-1===e.indexOf(t)&&(e[e.length]=t,t.init(this))},d.fire=function(t){var e,n,i,r=this._subs[t];if(r)for(e=Array.prototype.slice.call(arguments,1),n=0,i=r.length;i>n;n+=1)r[n].apply(this,e)},d.get=function(t){var e,n,i,r,s,o;if(!t)return this.data;if(oe(t))e=t.slice(),n=e.join(".");else{if(this._cache.hasOwnProperty(t))return this._cache[t];e=se(t),n=e.join(".")}return this._cache.hasOwnProperty(n)?this._cache[n]:(i=e.pop(),s=e.length?this.get(e):this.data,"object"==typeof s&&s.hasOwnProperty(i)?(o=s[i],r=e.join("."),this._depsMap[r]||(this._depsMap[r]=[]),-1===this._depsMap[r].indexOf(n)&&this._depsMap[r].push(n),this.modifyArrays&&(!oe(o)||o.ractive&&o._ractive.setting||c(o,n,this)),this._cache[n]=o,o):void 0)};var $,X,J,H,Z,W;$=function(t,e){var n=t._pendingResolution.indexOf(e);-1!==n&&t._pendingResolution.splice(n,1)},X=function(t,e){var n,i,r=t._depsMap[e];if(t.modifyArrays&&(n=t._cache[e],oe(n)&&!n._ractive.setting&&l(n,e,t)),delete t._cache[e],r)for(i=r.length;i--;)X(t,r[i])},J=function(t,e,n,i){var r;return t._deps[e]||(t._deps[e]=[]),r=t._deps[e],r[i]?(r=r[i],-1===r.indexOf(n)&&(r[r.length]=n),void 0):(r[i]=[n],void 0)},H=function(t,e,n,i){var r,s,o;for(r=t._deps[e][i],r.splice(r.indexOf(n),1),r.length||t._deps[e].splice(i,1),s=t._deps[e].length;s--;)if(t._deps[e][s]){o=!0;break}o||delete t._deps[e]},Z=function(t,e){var n,i,r,s,o,a;if(n=t._deps[e])for(o=n.length,r=0;o>r;r+=1)if(i=n[r])for(s=i.length;s--;)i[s].update();if(a=t._depsMap[e])for(r=a.length;r--;)Z(t,a[r])},W=function(t,e,n){var i,r,s,o,a,h;if("."===e)return n[n.length-1];for(i=se(e),r=i.pop(),n=n.concat();n.length;)if(s=n.pop(),o=se(s),a=t.get(o.concat(i)),"object"==typeof a&&a.hasOwnProperty(r)){h=s+"."+e;break}return h||void 0===t.get(e)||(h=e),h},d.link=function(t){var e=this;return function(n){e.set(t,n)}},d.off=function(t,e){var n,i;e||(t?this._subs[t]=[]:this._subs={}),n=this._subs[t],n&&(i=n.indexOf(e),-1!==i&&n.splice(i,1))},d.on=function(t,e){var n,i,r=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&(n[n.length]=this.on(i,t[i]));return{cancel:function(){for(;n.length;)n.pop().cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){r.off(t,e)}}},d.render=function(t){var e=t.el?pe(t.el):this.el;if(!e)throw Error("You must specify a DOM element to render to");t.append||(e.innerHTML=""),t.callback&&(this.callback=t.callback),this.rendered=new a({descriptor:this.template,root:this,owner:this,parentNode:e}),e.appendChild(this.rendered.docFrag)},function(t){var e,n;e=function(t,e,n){var i,r,s,o,a,h;for(i=oe(e)?e.slice():se(e),o=i.join("."),X(t,o),s=t.data;i.length>1;)r=i.shift(),s[r]||(s[r]=/^\s*[0-9]+\s*$/.test(i[0])?[]:{}),s=s[r];for(r=i[0],s[r]=n,t.setting||(t.setting=!0,t.fire("set",o,n),t.fire("set:"+o,n),t.setting=!1),Z(t,o),a=t._pendingResolution.length;a--;)h=t._pendingResolution.splice(a,1)[0],(e=W(t,h.ref,h.contextStack))?h.resolve(e):t._pendingResolution[t._pendingResolution.length]=h},n=function(t,n){var i;for(i in n)n.hasOwnProperty(i)&&e(t,i,n[i])},t.set=function(t,i){for(ae(t)?n(this,t):e(this,t,i);this._defAttrs.length;)this._defAttrs.pop().update().deferred=!1}}(d),d.teardown=function(){var t;this.rendered.teardown();for(t in this._depsMap)this._depsMap.hasOwnProperty(t)&&X(this,t);for(t in this._cache)this._cache.hasOwnProperty(t)&&X(this,t);for(;this._bound.length;)this.unbind(this._bound.pop())},d.unbind=function(t){var e,n=this._bound;e=n.indexOf(t),-1!==e&&(n.splice(e,1),t.teardown(this))},d.update=function(t){return X(this,t||""),Z(this,t||""),this.fire("update:"+t),this.fire("update",t),this},m.backbone=function(t,e){var n,i,r,s,o,a,h;return e&&(e+=".",o=RegExp("^"+e.replace(/\./g,"\\.")),a=e.length),console.log(e),{init:function(u){e?(h=function(t){var n,i;i={};for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i},s=function(t){n||(i=!0,u.set(h(t.changed)),i=!1)},r=function(e,r){i||o.test(e)&&(n=!0,t.set(e.substring(a),r),n=!1)}):(s=function(t){n||(i=!0,u.set(t.changed),i=!1)},r=function(e,r){i||(n=!0,t.set(e,r),n=!1)}),t.on("change",s),u.on("set",r),u.set(e?h(t.attributes):t.attributes)},teardown:function(e){t.off("change",s),e.off("set",r)}}},m.statesman=function(t,e){var n,i,r,s;return e=e?e+".":"",{init:function(e){s=function(t,r){n||(i=!0,e.set(t,r),i=!1)},r=function(e,r){i||(n=!0,t.set(e,r),n=!1)},t.on("set",s),e.on("set",r),e.set(t.get())},teardown:function(e){t.off("change",s),e.off("set",r)}}},n={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},v.tap=function(t,e){var n,i,r,s;return r=5,s=400,n=function(t){var n,i,o,a,h,u;n=t.clientX,i=t.clientY,o=this,a=function(t){e.call(o,t),u()},h=function(t){(Math.abs(t.clientX-n)>=r||Math.abs(t.clientY-i)>=r)&&u()},u=function(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",a)},window.addEventListener("mousemove",h),window.addEventListener("mouseup",a),setTimeout(u,s)},t.addEventListener("mousedown",n),i=function(t){var n,i,o,a,h,u,p;1===t.touches.length&&(o=t.touches[0],n=o.clientX,i=o.clientY,a=o.identifier,u=function(t){var n;n=t.changedTouches[0],n.identifier!==a&&p(),e.call(n.target,t)},h=function(t){var e;(1!==t.touches.length||t.touches[0].identifier!==a)&&p(),e=t.touches[0],(Math.abs(e.clientX-n)>=r||Math.abs(e.clientY-i)>=r)&&p()},p=function(){window.removeEventListener("touchmove",h),window.removeEventListener("touchend",u),window.removeEventListener("touchcancel",p)},window.addEventListener("touchmove",h),window.addEventListener("touchend",u),window.addEventListener("touchcancel",p),setTimeout(p,s))},{teardown:function(){t.removeEventListener("mousedown",n),t.removeEventListener("touchstart",i)}}},i=function(t){var n,i,r;n=this,i=function(){e.apply(this,arguments),this.init&&this.init.apply(this,arguments)};for(r in n.prototype)n.prototype.hasOwnProperty(r)&&(i.prototype[r]=n.prototype[r]);for(r in t)if(t.hasOwnProperty(r)){if(e.prototype.hasOwnProperty(r))throw Error('Cannot override "'+r+'" method or property of Ractive prototype');i.prototype[r]=t[r]}return i.extend=n.extend,i},r=function(t,n){return he(t)&&he(n)?e.interpolators.number(+t,+n):oe(t)&&oe(n)?e.interpolators.array(t,n):ae(t)&&ae(n)?e.interpolators.object(t,n):function(){return n}},s={number:function(t,e){var n=e-t;return n?function(e){return t+e*n}:function(){return t}},array:function(t,n){var i,r,s,o;for(i=[],r=[],o=s=Math.min(t.length,n.length);o--;)r[o]=e.interpolate(t[o],n[o]);for(o=s;t.length>o;o+=1)i[o]=t[o];for(o=s;n.length>o;o+=1)i[o]=n[o];return function(t){for(var e=s;e--;)i[e]=r[e](t);return i}},object:function(t,n){var i,r,s,o,a=[];s={},r={};for(o in t)t.hasOwnProperty(o)&&(n.hasOwnProperty(o)?(a[a.length]=o,r[o]=e.interpolate(t[o],n[o])):s[o]=t[o]);for(o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(s[o]=n[o]);return i=a.length,function(t){for(var e,n=i;n--;)e=a[n],s[e]=r[e](t);return s}}},e=function(t){var n,i,r,s;if(t)for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);n={preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,data:{}};for(i in n)n.hasOwnProperty(i)&&void 0===this[i]&&(this[i]=n[i]);if(void 0!==this.el&&(this.el=pe(this.el)),this._subs={},this._cache={},this._deps={},this._depsMap={},this.nodes={},this._observers={},this._pendingResolution=[],this._defAttrs=[],this._proxies={},this._bound=[],this.bindings)if(oe(this.bindings))for(s=0;this.bindings.length>s;s+=1)this.bind(this.bindings[s]);else this.bind(this.bindings);if(this.partials)for(i in this.partials)if(this.partials.hasOwnProperty(i)){if(r=this.partials[i],"string"==typeof r){if(!e.parse)throw Error('Missing Ractive.parse - cannot parse partial "'+i+'". Either preparse or use the version that includes the parser');r=e.parse(r,this)}1===r.length&&"string"==typeof r[0]&&(r=r[0]),this.partials[i]=r}if("string"==typeof this.template){if(!e.parse)throw Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");this.template=e.parse(this.template,this)}this.template&&1===this.template.length&&"string"==typeof this.template[0]&&(this.template=this.template[0]),this.el&&this.render({el:this.el,append:this.append})},p=function(t){var n;this.startTime=Date.now();for(n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.interpolator=e.interpolate(this.from,this.to),this.running=!0},p.prototype={tick:function(){var t,e,n,i;return this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(this.root.set(this.keys,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,n=this.interpolator(e),this.root.set(this.keys,n),this.step&&this.step(e,n),!0)):!1},stop:function(){this.running=!1}},o={animations:[],tick:function(){var e,n;for(e=0;this.animations.length>e;e+=1)n=this.animations[e],n.tick()||this.animations.splice(e--,1);this.animations.length?t.requestAnimationFrame(this.boundTick):this.running=!1},boundTick:function(){o.tick()},push:function(t){this.animations[this.animations.length]=t,this.running||(this.running=!0,this.tick())}},function(t,e,n){var i;for(i=0;t.length>i&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[t[i]+"CancelAnimationFrame"]||n[t[i]+"CancelRequestAnimationFrame"];n.requestAnimationFrame||(n.requestAnimationFrame=function(t){var i,r,s;return i=Date.now(),r=Math.max(0,16-(i-e)),s=n.setTimeout(function(){t(i+r)},r),e=i+r,s}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){n.clearTimeout(t)})}(["ms","moz","webkit","o"],0,t),function(){var t,e,n,i,r,s,o;t=Object.defineProperty?Object.defineProperty:function(t,e,n){t[e]=n.value},c=function(e,i,r){var s,o,a,h;e._ractive?(s=e._ractive.roots,o=e._ractive.keypathsByIndex,a=s.indexOf(r),-1===a&&(a=s.length,s[a]=r),o[a]||(o[a]=[]),h=o[a],-1===h.indexOf(i)&&(h[h.length]=i)):(t(e,"_ractive",{value:{roots:[r],keypathsByIndex:[[i]]},configurable:!0}),n(e))},l=function(t,e,n){var r,s,o,a,h;if(!t._ractive)throw Error("Attempted to remove keypath from non-wrapped array. This error is unexpected - please send a bug report to @rich_harris");if(r=t._ractive.roots,o=r.indexOf(n),-1===o)throw Error("Ractive instance was not listed as a dependent of this array. This error is unexpected - please send a bug report to @rich_harris");if(s=t._ractive.keypathsByIndex,a=s[o],h=a.indexOf(e),-1===h)throw Error("Attempted to unlink non-linked keypath from array. This error is unexpected - please send a bug report to @rich_harris");a.splice(h,1),a.length||r.splice(o,1),r.length||i(t)},e=function(t){var e,n,i,r,s,o;for(e=t._ractive.roots,n=t._ractive.keypathsByIndex,s=e.length;s--;)for(i=e[s],r=n[s],o=r.length;o--;)i.set(r[o],t)},r=[],o=["pop","push","reverse","shift","sort","splice","unshift"],o.forEach(function(n){var i=function(){var t=Array.prototype[n].apply(this,arguments);return this._ractive.setting=!0,e(this),this._ractive.setting=!1,t};t(r,n,{value:i})}),s={},s.__proto__?(n=function(t){t.__proto__=r},i=function(t){delete t._ractive,t.__proto__=Array.prototype}):(n=function(e){var n,i;for(n=o.length;n--;)i=o[n],t(e,i,{value:r[i]})},i=function(t){var e;for(e=o.length;e--;)delete t[o[e]];delete t._ractive})}(),function(t,e){var n,i;i=function(t,n){var i;return e[t]?e[t]:(i=Function(n?n.join(","):"","return("+t+")"),e[t]=i,i)},u=function(t,e,i,r,s){var o;if(this.root=t,this.mustache=e,this.priority=e.priority,this.str=s.s,this.keypaths=[],this.override=[],this.values=[],s.r){for(this.unresolved=s.r.length,this.refs=s.r.slice(),o=s.r.length;o--;)r&&r.hasOwnProperty(s.r[o])?(this.values[o]=this.override[o]=r[s.r[o]],this.unresolved-=1):new n(t,s.r[o],i,o,this);this.unresolved||this.resolved||this.init()}else this.init()},u.prototype={init:function(){var t=this;this.resolved=!0,this.keypath=this.str.replace(/❖([0-9]+)/g,function(e,n){return t.override.hasOwnProperty(n)?t.override[n]:t.keypaths[n]}),this.fnStr=this.str.replace(/❖([0-9]+)/g,function(e,n){return t.refs[n]}),this.fn=i(this.fnStr,this.refs),this.update(),this.mustache.resolve(this.keypath)},resolve:function(t,e,n){this.keypaths[e]=n,this.unresolved-=1,this.unresolved||this.init()},update:function(){var t;if(this.resolved){try{t=this.getter()}catch(e){if(this.root.debug)throw e;t=void 0}ue(t,this._lastValue)||(this.root.set(this.keypath,t),this._lastValue=t)}},getter:function(){return this.fn.apply(null,this.values)}},n=function(t,e,n,i,r){var s;this.ref=e,this.root=t,this.evaluator=r,this.argNum=i,s=W(t,e,n),s?this.resolve(s):(this.contextStack=n,t._pendingResolution[t._pendingResolution.length]=this)},n.prototype={resolve:function(t){this.keypath=t,J(this.root,t,this,this.evaluator.priority),this.update(),this.evaluator.resolve(this.ref,this.argNum,t)},update:function(){var t=this.root.get(this.keypath);ue(t,this._lastValue)||(this.evaluator.values[this.argNum]=t,this.evaluator.update(),this._lastValue=t)}}}({},{});var K,G,te,ee,ne=function(t,e){var n,i,r,s,o;if(t.owner=e.owner,t.owner.type===N&&(t.index=e.index),t.owner.parentFragment&&(s=t.owner.parentFragment.indexRefs)){t.indexRefs={};for(o in s)s.hasOwnProperty(o)&&(t.indexRefs[o]=s[o])}for(e.indexRef&&(t.indexRefs||(t.indexRefs={}),t.indexRefs[e.indexRef]=e.index),t.items=[],r={root:e.root,parentFragment:t,parentNode:e.parentNode,contextStack:e.contextStack},n=e.descriptor?e.descriptor.length:0,i=0;n>i;i+=1)r.descriptor=e.descriptor[i],r.index=i,t.items[t.items.length]=t.createItem(r)};K=function(t,e){var n,i;t.root=e.root,t.descriptor=e.descriptor,t.parentFragment=e.parentFragment,t.contextStack=e.contextStack||[],t.index=e.index||0,t.priority=e.descriptor.p||0,(e.parentNode||e.anchor)&&(t.parentNode=e.parentNode,t.anchor=e.anchor),t.type=e.descriptor.t,e.descriptor.r&&(t.parentFragment.indexRefs&&t.parentFragment.indexRefs.hasOwnProperty(e.descriptor.r)?(i=t.parentFragment.indexRefs[e.descriptor.r],t.render(i)):(n=W(t.root,e.descriptor.r,t.contextStack),n?t.resolve(n):(t.ref=e.descriptor.r,t.root._pendingResolution[t.root._pendingResolution.length]=t,t.descriptor.n&&t.render(!1)))),e.descriptor.x&&(t.evaluator=new u(t.root,t,t.contextStack,t.parentFragment.indexRefs,e.descriptor.x))},G=function(){var t;this.keypath?t=this.root.get(this.keypath,!0):this.expression&&(t=this.evaluate()),ue(t,this._lastValue)||(this.render(t),this._lastValue=t)},te=function(t){this.keypath=t,J(this.root,t,this,this.priority),this.update()},ee=function(){var t,e;for(t=[],e=this.refs.length;e--;)t[e]=this.root.get(this.refs[e]);return this.evaluator.apply(null,t)};var ie=function(t,e){var n,i,r,s,o;if(n={descriptor:t.descriptor.f,root:t.root,parentNode:t.parentNode,owner:t},i=oe(e),i&&0===e.length&&(r=!0),t.descriptor.n){if(e&&!r)t.length&&(t.unrender(),t.length=0);else if(!t.length)return n.contextStack=t.contextStack,n.index=0,t.fragments[0]=t.createFragment(n),t.length=1,void 0}else if(i){if(e.length<t.length)for(o=t.fragments.splice(e.length,t.length-e.length);o.length;)o.pop().teardown();else if(e.length>t.length)for(s=t.length;e.length>s;s+=1)n.contextStack=t.contextStack.concat(t.keypath+"."+s),n.index=s,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[s]=t.createFragment(n);t.length=e.length}else ae(e)?t.length||(n.contextStack=t.contextStack.concat(t.keypath),n.index=0,t.fragments[0]=t.createFragment(n),t.length=1):e&&!r?t.length||(n.contextStack=t.contextStack,n.index=0,t.fragments[0]=t.createFragment(n),t.length=1):t.length&&(t.unrender(),t.length=0)};(function(){var t,n,i,r,s,o,u,p,c,l;i={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},n="undefined"!=typeof window?window.document:null,t=function(t,e){var i,r=[];for(i=n.createElement("div"),i.innerHTML=t;i.firstChild;)r[r.length]=i.firstChild,e.appendChild(i.firstChild);return r},a=function(e){return this.docFrag=n.createDocumentFragment(),"string"==typeof e.descriptor?(this.nodes=t(e.descriptor,this.docFrag),void 0):(ne(this,e),void 0)},a.prototype={createItem:function(t){if("string"==typeof t.descriptor)return new r(t,this.docFrag);switch(t.descriptor.t){case b:return new p(t,this.docFrag);case N:return new l(t,this.docFrag);case k:return new c(t,this.docFrag);case E:return new s(t,this.docFrag);case O:return new o(t,this.docFrag);default:throw"WTF? not sure what happened here..."}},teardown:function(){var t;if(this.nodes)for(;this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);else for(;this.items.length;)this.items.pop().teardown()},firstNode:function(){return this.items[0]?this.items[0].firstNode():null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():null}},o=function(t,e){this.parentFragment=t.parentFragment,this.fragment=new a({descriptor:t.root.partials[t.descriptor.r]||[],root:t.root,parentNode:t.parentNode,contextStack:t.contextStack,owner:this}),e.appendChild(this.fragment.docFrag)},o.prototype={teardown:function(){this.fragment.teardown()}},r=function(t,e){this.node=n.createTextNode(t.descriptor),this.root=t.root,this.parentNode=t.parentNode,e.appendChild(this.node)},r.prototype={teardown:function(){this.root.el.contains(this.node)&&this.parentNode.removeChild(this.node)},firstNode:function(){return this.node}},s=function(t,e){var i,r,s,o,h,p,c,l;if(i=this.descriptor=t.descriptor,this.root=t.root,this.parentFragment=t.parentFragment,this.parentNode=t.parentNode,this.index=t.index,this.eventListeners=[],this.customEventListeners=[],i.a&&i.a.xmlns){if(r=i.a.xmlns,"string"!=typeof r)throw Error("Namespace attribute cannot contain mustaches")}else r=this.parentNode.namespaceURI;if(this.node=n.createElementNS(r,i.e),i.f&&("string"==typeof i.f&&this.node.namespaceURI===Y.html?this.node.innerHTML=i.f:(this.children=new a({descriptor:i.f,root:t.root,parentNode:this.node,contextStack:t.contextStack,owner:this}),this.node.appendChild(this.children.docFrag))),i.v)for(s in i.v)i.v.hasOwnProperty(s)&&this.addEventProxy(s,i.v[s],t.contextStack);this.attributes=[],c=[];for(h in i.a)i.a.hasOwnProperty(h)&&(p=i.a[h],o=new u({element:this,name:h,value:void 0===p?null:p,root:t.root,parentNode:this.node,contextStack:t.contextStack}),this.attributes[this.attributes.length]=o,o.isBindable&&c.push(o),o.isTwowayNameAttr?l=o:o.update());for(;c.length;)c.pop().bind(this.root.lazy);l&&(l.updateViewModel(),l.update()),e.appendChild(this.node)},s.prototype={addEventProxy:function(t,n,i){var r,s,o,a,u=this,p=this.root;"string"==typeof n?(p._proxies[n]||(p._proxies[n]=function(t){p.fire(n,t,this)}),a=p._proxies[n]):(o=new h({descriptor:n,root:this.root,owner:this,contextStack:i}),a=function(t){p.fire(o.getValue(),t,u.node)}),(r=e.eventDefinitions[t])?(s=r(this.node,a),this.customEventListeners[this.customEventListeners.length]=s):void 0!==this.node["on"+t]?(this.eventListeners[this.eventListeners.length]={n:t,h:a},this.node.addEventListener(t,a)):console&&console.warn&&console.warn("Invalid event handler ("+t+")")},teardown:function(){var t;for(this.root.el.contains(this.node)&&this.parentNode.removeChild(this.node),this.children&&this.children.teardown();this.attributes.length;)this.attributes.pop().teardown();for(;this.eventListeners.length;)t=this.eventListeners.pop(),this.node.removeEventListener(t.n,t.h);for(;this.customEventListeners.length;)this.customEventListeners.pop().teardown()},firstNode:function(){return this.node},bubble:function(){}},u=function(t){var e,n,r,s,o,a,u,p;if(e=t.name,n=t.value,this.element=t.element,r=e.indexOf(":"),-1!==r&&(s=e.substr(0,r),"xmlns"!==s&&(e=e.substring(r+1),this.namespace=Y[s],!this.namespace)))throw'Unknown namespace ("'+s+'")';return null===n||"string"==typeof n?(this.namespace?t.parentNode.setAttributeNS(this.namespace,e,n):t.parentNode.setAttribute(e,n),"id"===e.toLowerCase()&&(t.root.nodes[n]=t.parentNode),void 0):(this.root=t.root,this.parentNode=t.parentNode,this.name=e,this.lcName=e.toLowerCase(),this.children=[],this.namespace||t.parentNode.namespaceURI!==Y.html||(u=this.lcName,p=i[u]||u,void 0!==t.parentNode[p]&&(this.propertyName=p),("boolean"==typeof t.parentNode[p]||"value"===p)&&(this.useProperty=!0)),this.parentFragment=this.element.parentFragment,this.fragment=new h({descriptor:n,root:this.root,owner:this,contextStack:t.contextStack}),1===this.fragment.items.length&&(this.selfUpdating=!0),this.root.twoway&&(o=this.element.descriptor.e.toLowerCase(),a=!("name"!==p&&"value"!==p&&"checked"!==p||"input"!==o&&"textarea"!==o&&"select"!==o)),a&&(this.isBindable=!0,"name"===p&&(this.isTwowayNameAttr=!0)),this.ready=!0,this.isTwowayNameAttr||this.update(),void 0)},u.prototype={bind:function(t){var e,n,i,r,s,o=this,a=this.parentNode;if(!this.fragment)return!1;if(1!==this.fragment.items.length||this.fragment.items[0].type!==b)throw"Not a valid two-way data binding candidate - must be a single interpolator";if(this.interpolator=this.fragment.items[0],e=this.interpolator.keypath||this.interpolator.descriptor.r,"SELECT"===a.tagName&&"value"===this.propertyName)for(n=a.getElementsByTagName("option"),s=n.length,r=0;s>r;r+=1)if(i=n[r],i.hasAttribute("selected")){this.root.set(e,i.value);break}"checkbox"===a.type||"radio"===a.type?"name"===this.propertyName?(a.name="{{"+e+"}}",this.updateViewModel=function(){a.checked&&o.root.set(e,a.value)}):"checked"===this.propertyName&&(this.updateViewModel=function(){o.root.set(e,a.checked)}):this.updateViewModel=function(){var t;t=a.value,"0"===t?t=0:""!==t&&(t=+t||t),o.root.set(e,t)},this.updateViewModel&&(this.twoway=!0,a.addEventListener("change",this.updateViewModel),a.addEventListener("click",this.updateViewModel),a.addEventListener("blur",this.updateViewModel),t||(a.addEventListener("keyup",this.updateViewModel),a.addEventListener("keydown",this.updateViewModel),a.addEventListener("keypress",this.updateViewModel),a.addEventListener("input",this.updateViewModel)))},teardown:function(){if(this.updateViewModel&&(this.parentNode.removeEventListener("change",this.updateViewModel),this.parentNode.removeEventListener("click",this.updateViewModel),this.parentNode.removeEventListener("blur",this.updateViewModel),this.parentNode.removeEventListener("keyup",this.updateViewModel),this.parentNode.removeEventListener("keydown",this.updateViewModel),this.parentNode.removeEventListener("keypress",this.updateViewModel),this.parentNode.removeEventListener("input",this.updateViewModel)),this.children)for(;this.children.length;)this.children.pop().teardown()},bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},update:function(){var t,e;if(!this.ready)return this;if("id"===this.lcName&&(void 0!==this.id&&delete this.root.nodes[this.id],this.root.nodes[this.id]=this.parentNode),this.twoway){if(e=this.lcName,this.value=this.interpolator.value,"name"===e&&("checkbox"===this.parentNode.type||"radio"===this.parentNode.type))return this.parentNode.checked=this.value===this.parentNode.value?!0:!1,this;if(n.activeElement===this.parentNode)return this}return t=this.fragment.getValue(),void 0===t&&(t=""),this.useProperty?(this.parentNode[this.propertyName]=t,this):this.namespace?(this.parentNode.setAttributeNS(this.namespace,this.name,t),this):(this.parentNode.setAttribute(this.name,t),this)}},p=function(t,e){this.node=n.createTextNode(""),e.appendChild(this.node),K(this,t),this.cond&&!this.keypath&&this.update(!1)},p.prototype={update:G,resolve:te,evaluate:ee,teardown:function(){this.keypath?H(this.root,this.keypath,this,this.descriptor.p||0):$(this.root,this),this.root.el.contains(this.node)&&this.parentNode.removeChild(this.node)},render:function(t){this.node.data=t},firstNode:function(){return this.node}},c=function(t,e){this.nodes=[],this.docFrag=n.createDocumentFragment(),this.initialising=!0,K(this,t),e.appendChild(this.docFrag),this.initialising=!1},c.prototype={update:G,resolve:te,evaluate:ee,teardown:function(){if(this.root.el.contains(this.parentNode))for(;this.nodes.length;)this.parentNode.removeChild(this.nodes.pop());this.keypath?H(this.root,this.keypath,this,this.descriptor.p||0):$(this.root,this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(e){for(;this.nodes.length;)this.parentNode.removeChild(this.nodes.pop());this.nodes=t(e,this.docFrag),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}},l=function(t,e){this.fragments=[],this.length=0,this.docFrag=n.createDocumentFragment(),this.initialising=!0,K(this,t),e.appendChild(this.docFrag),this.initialising=!1},l.prototype={update:G,resolve:te,evaluate:ee,teardown:function(){this.unrender(),this.keypath?H(this.root,this.keypath,this,this.descriptor.p||0):$(this.root,this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},unrender:function(){for(;this.fragments.length;)this.fragments.shift().teardown()},render:function(t){ie(this,t),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},createFragment:function(t){var e=new a(t);return this.docFrag.appendChild(e.docFrag),e}}})(),function(){var t,e,n,i;r=function r(t){ne(this,t)},r.prototype={createItem:function(r){if("string"==typeof r.descriptor)return new t(r.descriptor);switch(r.descriptor.t){case b:return new e(r);case k:return new n(r);case N:return new i(r);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.value=this.getValue(),this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var t;return 1===this.items.length&&(t=this.items[0].value,void 0!==t)?t:""+this},toString:function(){return this.items.join("")}},t=function(t){this.text=t},t.prototype={toString:function(){return this.text},teardown:function(){}},e=function(t){K(this,t),this.cond&&!this.keypath&&this.update(!1)},e.prototype={update:G,resolve:te,evaluate:ee,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){this.keypath?H(this.root,this.keypath,this,this.descriptor.p||0):$(this.root,this)},toString:function(){return void 0===this.value?"":this.value}},n=e,i=function(t){this.fragments=[],this.length=0,K(this,t)},i.prototype={update:G,resolve:te,evaluate:ee,teardown:function(){this.unrender(),this.keypath?H(this.root,this.keypath,this,this.descriptor.p||0):$(this.root,this)},unrender:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){ie(this,t),this.parentFragment.bubble()},createFragment:function(t){return new r(t)},toString:function(){return this.fragments.join("")}}}();var re,se,oe,ae,he,ue,pe;re={},se=function(t){var e,n,i,r,s;if(re[t])return re[t].concat();for(i=[],r=t,n=0;r.length;){if(e=r.indexOf(".",n),-1===e)s=r,r="";else{if("\\"===r.charAt(e-1)&&"\\"!==r.charAt(e-2)){n=e+1;continue}s=r.substr(0,e),n=0}/\[/.test(s)?i=i.concat(s.replace(/\[\s*([0-9]+)\s*\]/g,".$1").split(".")):i[i.length]=s,r=r.substring(e+1)}return re[t]=i,i.concat()},oe=function(t){return"[object Array]"===Object.prototype.toString.call(t)},ue=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},he=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ae=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t},pe=function(t){var e,n;if("undefined"!=typeof window){if(n=window.document,!t)throw Error("No container element specified");if(t.tagName)return t;if("string"==typeof t&&(e=n.getElementById(t),!e&&n.querySelector&&(e=n.querySelector(t)),e.tagName))return e;if(t[0]&&t[0].tagName)return t[0];throw Error("Could not find container element")}};var ce,le,de;ce=function(t){var e,n,i,r;for(e=0;t.length>e;e+=1)n=t[e],i=t[e-1],r=t[e+1],(n.mustacheType===L||n.mustacheType===S)&&(t.splice(e,1),i&&r&&i.type===x&&r.type===x&&(i.value+=r.value,t.splice(e,1)),e-=1);return t},le=function(t){var e,n,i;for(i="";t.length;){if(e=t.indexOf("<!--"),n=t.indexOf("-->"),-1===e&&-1===n){i+=t;break}if(-1!==e&&-1===n)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==n&&-1===e||e>n)throw"Illegal HTML - unexpected closing comment sequence ('-->')";i+=t.substr(0,e),t=t.substring(n+3)}return i},de=function(t){var e,n,i,r,s,o;for(s=/^\s*\r?\n/,o=/\r?\n\s*$/,e=2;t.length>e;e+=1)n=t[e],i=t[e-1],r=t[e-2],n.type===x&&i.type===M&&r.type===x&&o.test(r.value)&&s.test(n.value)&&(i.mustacheType!==b&&i.mustacheType!==k&&(r.value=r.value.replace(o,"\n")),n.value=n.value.replace(s,""),""===n.value&&t.splice(e--,1));return t};var fe,ge;fe=function(t,e){var n,i,r;return e=e||{},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),n=ve(t,e),i=ge(n,0,e,e.preserveWhitespace),r=i.toJson(),"string"==typeof r?[r]:r},ge=function(t,e,n,i){var r,s;return r={pos:0,tokens:t||[],next:function(){return r.tokens[r.pos]},options:n},s=g.fragment(r,e,i)},function(t){var e,n,i,r,s,o,a,h;t.element=function(t,n,i){var r,s=t.next();return s.type===A?(r=new e(s,t,n,i),t.options.sanitize&&t.options.sanitize.elements&&-1!==t.options.sanitize.elements.indexOf(r.lcTag)?null:r):null},n="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),i="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),r="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),s={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},o=function(t){return"on"!==t.name.substr(0,2)
},a=function(t){return"proxy-"!==t.name.substr(0,6)},h=function(t){return"proxy-"===t.name.substr(0,6)?(t.name=t.name.substring(6),!0):!1},e=function(e,i,r,u){var p,c,l,r,d,f;if(this.tag=e.name,this.lcTag=this.tag.toLowerCase(),this.priority=r=r||0,i.pos+=1,u=u||"pre"===this.lcTag,e.attrs&&(c=e.attrs.filter(a),l=e.attrs.filter(h),i.options.sanitize&&i.options.sanitize.eventAttributes&&(c=c.filter(o)),d=function(t){return{name:t.name,value:ge(t.value,r+1)}},c.length&&(this.attributes=c.map(d)),l.length&&(this.proxies=l.map(d))),e.selfClosing&&(this.selfClosing=!0),-1!==n.indexOf(this.lcTag)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=s[this.lcTag],this.items=[],p=i.next();p;){if(p.type===A){if(p.closing){p.name.toLowerCase()===this.lcTag&&(i.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(p.name.toLowerCase()))break}this.items[this.items.length]=t.item(i,this.priority+1),p=i.next()}u||(f=this.items[0],f&&f.type===x&&(f.text=f.text.replace(y,""),f.text||this.items.shift()),f=this.items[this.items.length-1],f&&f.type===x&&(f.text=f.text.replace(w,""),f.text||this.items.pop()))}},e.prototype={toJson:function(t){var e,n,i,r,s;if(e={t:E,e:this.tag},this.attributes&&this.attributes.length)for(e.a={},s=this.attributes.length,r=0;s>r;r+=1)n=this.attributes[r].name,void 0===this.attributes[r].value&&(i=null),i=me.jsonify(this.attributes[r].value.items,t),e.a[n]=i;if(this.items&&this.items.length&&(e.f=me.jsonify(this.items,t)),this.proxies&&this.proxies.length)for(e.v={},s=this.proxies.length,r=0;s>r;r+=1)n=this.proxies[r].name,i=me.jsonify(this.proxies[r].value.items,t),e.v[n]=i;return this.json=e,e},toString:function(){var t,e,r,s,o,a,h;if(void 0!==this.str)return this.str;if(-1===i.indexOf(this.tag.toLowerCase()))return this.str=!1;if(a=me.stringify(this.items),a===!1)return this.str=!1;if(this.proxies)return this.str=!1;if(h=-1!==n.indexOf(this.tag.toLowerCase()),t="<"+this.tag,this.attributes)for(e=0,r=this.attributes.length;r>e;e+=1){if(-1!==this.attributes[e].name.indexOf(":"))return this.str=!1;if(s=" "+this.attributes[e].name,void 0!==this.attributes[e].value){if(o=""+this.attributes[e].value,o===!1)return this.str=!1;""!==o&&(s+="=",s+=/[\s"'=<>`]/.test(o)?'"'+o.replace(/"/g,"&quot;")+'"':o)}t+=s}return this.selfClosing&&!h?(t+="/>",this.str=t):(t+=">",h?this.str=t:(t+=a,t+="</"+this.tag+">",this.str=t))}}}(g),function(t){var e,n,i;t.expression=function(t){return new e(t)},e=function(t){this.refs=[],n(t,this.refs),this.str=i(t,this.refs)},e.prototype={toJson:function(){return{r:this.refs,s:this.str}}},n=function(t,e){var i;if(t.type===I&&-1===e.indexOf(t.name)&&(e[e.length]=t.name),t.expressions)for(i=t.expressions.length;i--;)n(t.expressions[i],e);if(t.expression&&n(t.expression,e),t.parameters)for(i=t.parameters.length;i--;)n(t.parameters[i],e);t.refinement&&n(t.refinement,e)},i=function(t,e){var n=function(t){return i(t,e)};switch(t.type){case P:case j:case C:return t.value;case R:return'"'+t.value.replace(/"/g,'\\"')+'"';case V:return"["+t.expressions.map(n).join(",")+"]";case z:return t.symbol+i(t.expression,e);case Q:return i(t.expression,e)+"("+(t.parameters?t.parameters.map(n).join(","):"")+")";case B:return"("+i(t.expression,e)+")";case D:return i(t.expression,e)+i(t.refinement,e);case q:return t.name?"."+t.name:"["+i(t.expression,e)+"]";case U:return i(t.expressions[0],e)+"?"+i(t.expressions[1],e)+":"+i(t.expressions[2],e);case I:return"❖"+e.indexOf(t.name);default:return i(t.expressions[0],e)+t.symbol+i(t.expressions[1],e)}}}(g),function(t){var e;t.fragment=function(t,n,i){return new e(t,n,i)},e=function(e,n,i){var r,s;for(r=this.items=[],s=t.item(e,n,i);null!==s;)r[r.length]=s,s=t.item(e,n,i)},e.prototype={toJson:function(t){var e=me.jsonify(this.items,t);return e},toString:function(){var t=me.stringify(this.items);return t}}}(g),g.item=function(t,e,n){return t.next()?g.text(t,n)||g.mustache(t,e,n)||g.element(t,e,n):null},function(t){var e,n;t.mustache=function(t,i,r){var s=t.next();return s.type===M||s.type===k?s.mustacheType===N||s.mustacheType===_?new n(s,t,i,r):new e(s,t,i):null},e=function(e,n,i){this.type=e.type===k?k:e.mustacheType,e.ref&&(this.ref=e.ref),e.expression&&(this.expr=t.expression(e.expression)),this.priority=i,n.pos+=1},e.prototype={toJson:function(){var t;return this.json?this.json:(t={t:this.type},this.ref&&(t.r=this.ref),this.expr&&(t.x=this.expr.toJson()),this.priority&&(t.p=this.priority),this.json=t,t)},toString:function(){return!1}},n=function(e,n,i,r){var s;for(this.ref=e.ref,this.indexRef=e.indexRef,this.priority=i||0,this.inverted=e.mustacheType===_,e.expression&&(this.expr=t.expression(e.expression)),n.pos+=1,this.items=[],s=n.next();s;){if(s.mustacheType===F&&(s.ref===this.ref||s.expr&&this.expr)){n.pos+=1;break}this.items[this.items.length]=t.item(n,this.priority+1,r),s=n.next()}},n.prototype={toJson:function(t){var e;return this.json?this.json:(e={t:N},this.ref&&(e.r=this.ref),this.indexRef&&(e.i=this.indexRef),this.inverted&&(e.n=!0),this.expr&&(e.x=this.expr.toJson()),this.items.length&&(e.f=me.jsonify(this.items,t)),this.priority&&(e.p=this.priority),this.json=e,e)},toString:function(){return!1}}}(g),function(t){var e,n,i,r;t.text=function(t,n){var i=t.next();return i.type===x?(t.pos+=1,new e(i,n)):null},n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},i=function(t){var e;return e=t.replace(/&([a-zA-Z]+);/,function(t,e){return n[e]?String.fromCharCode(n[e]):t}),e=e.replace(/&#x([0-9]+);/,function(t,e){return String.fromCharCode(parseInt(e,16))}),e=e.replace(/&#([0-9]+);/,function(t,e){return String.fromCharCode(e)})},r=/\s+/g,e=function(t,e){this.type=x,this.text=e?t.value:t.value.replace(r," ")},e.prototype={toJson:function(){return this.decoded||(this.decoded=i(this.text))},toString:function(){return this.text}}}(g);var me={stringify:function(t){var e,n,i,r="";if(!t)return"";for(n=0,i=t.length;i>n;n+=1){if(e=""+t[n],e===!1)return!1;r+=e}return r},jsonify:function(t,e){var n,i;return e||(n=me.stringify(t),n===!1)?i=t.map(function(t){return t.toJson(e)}):n}},ve=function(t,e){var n,i;return e=e||{},n={str:le(t),pos:0,delimiters:e.delimiters||["{{","}}"],tripleDelimiters:e.tripleDelimiters||["{{{","}}}"],remaining:function(){return n.str.substring(n.pos)}},i=f.start(n),de(i),ce(i),i};f.regex=function(t){return function(e){var n=t.exec(e.str.substring(e.pos));return n?(e.pos+=n[0].length,n[1]||n[0]):null}},function(t){var e=t.regex(/^[^\s=]+/);t.delimiterChange=function(n){var i,r,s;return t.generic(n,"=")?(i=n.pos,t.whitespace(n),(r=e(n))?(t.whitespace(n),(s=e(n))?(t.whitespace(n),t.generic(n,"=")?[r,s]:(n.pos=i,null)):(n.pos=i,null)):(n.pos=i,null)):null}}(f),f.generic=function(t,e){var n;return n=t.str.substr(t.pos,e.length),n===e?(t.pos+=e.length,e):null},f.expressionList=function(t){var e,n,i,r;if(e=t.pos,i=f.expression(t),null===i)return null;if(n=[i],f.whitespace(t),f.generic(t,",")){if(r=f.expressionList(t),null===r)return t.pos=e,null;n=n.concat(r)}return n},f.expression=function(t){var e,n;return e=t.pos,f.whitespace(t),n=Te(t)||Ve(t)||Re(t)||Ce(t)||Ae(t)||Se(t)};var ye,we,xe,be=function(t,e){return function(n){var i,r,s;return(r=e(n))?(i=n.pos,f.whitespace(n),f.generic(n,t)?(f.whitespace(n),s=f.expression(n),s?{symbol:t,expressions:[r,s]}:(n.pos=i,r)):(n.pos=i,r)):null}},ke=function(t){var e,n;return e=t.pos,f.generic(t,"(")?(f.whitespace(t),(n=f.expression(t))?(f.whitespace(t),f.generic(t,")")?{type:B,expression:n}:(t.pos=e,null)):(t.pos=e,null)):null},Ne=function(t){var e=f.literal(t)||f.reference(t)||ke(t);return e},_e=function(t){var e,n,i;if(e=Ne(t),!e)return null;if(n=f.refinement(t),!n)return e;for(;null!==n;)i={type:D,expression:e,refinement:n},e=i,n=f.refinement(t);return i},Fe=function(t){var e,n,i,r;return(n=_e(t))?(e=t.pos,f.generic(t,"(")?(f.whitespace(t),i=f.expressionList(t),f.whitespace(t),f.generic(t,")")?(r={type:Q,expression:n},i&&(r.parameters=i),r):(t.pos=e,n)):n):null},Ee="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),Oe=Fe;for(ye=0,we=Ee.length;we>ye;ye+=1)xe=be(Ee[ye],Oe),Oe=xe;var Le=Oe,Se=function(t){var e,n,i,r;return(n=Le(t))?(e=t.pos,f.whitespace(t),f.generic(t,"?")?(f.whitespace(t),(i=f.expression(t))?(f.whitespace(t),f.generic(t,":")?(f.whitespace(t),r=f.expression(t),r?{type:U,expressions:[n,i,r]}:(t.pos=e,n)):(t.pos=e,n)):(t.pos=e,n)):(t.pos=e,n)):null},Me=function(t){return function(e){var n,i;return n=e.pos,f.generic(e,t)?(f.whitespace(e),i=f.expression(e),i?{symbol:t,expression:i,type:z}:(e.pos=n,null)):null}},Ae=Me("!"),Ce=Me("~"),Re=Me("+"),Ve=Me("-"),Te=Me("typeof");f.arrayLiteral=function(t){var e,n;return e=t.pos,f.whitespace(t),f.generic(t,"[")?(n=f.expressionList(t),f.generic(t,"]")?{type:V,members:n}:(t.pos=e,null)):(t.pos=e,null)},f.booleanLiteral=function(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{type:P,value:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{type:P,value:"false"}):null},function(t){var e=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)/;t.global=function(n){var i,r,s;return i=n.pos,(r=t.name(n))?(s=e.exec(r))?(n.pos=i+s[0].length,{type:j,value:s[0]}):(n.pos=i,null):null}}(f),f.literal=function(t){var e=f.numberLiteral(t)||f.booleanLiteral(t)||f.global(t)||f.stringLiteral(t)||f.objectLiteral(t)||f.arrayLiteral(t);return e},f.numberLiteral=function(t){var e,n;return e=t.pos,n=f.integer(t),null===n?null:(n+=f.fraction(t)||"",n+=f.exponent(t)||"",{type:C,value:+n})},f.objectLiteral=function(t){var e,n,i,r,s;if(e=t.pos,f.whitespace(t),!f.generic(t,"{"))return t.pos=e,null;if(n={},i=f.keyValuePairs(t))for(r=i.length;r--;){if(s=i[r],n.hasOwnProperty(s.key))throw Error("An object cannot have multiple keys with the same name");n[s.key]=s.value}return f.whitespace(t),f.generic(t,"}")?{type:T,value:n}:(t.pos=e,null)},f.keyValuePairs=function(t){var e,n,i,r;return e=t.pos,i=f.keyValuePair(t),null===i?null:(n=[i],f.generic(t,",")?(r=f.keyValuePairs(t),r?n.concat(r):(t.pos=e,null)):n)},f.keyValuePair=function(t){var e,n,i;return e=t.pos,f.whitespace(t),n=f.key(t),null===n?(t.pos=e,null):(f.whitespace(t),f.generic(t,":")?(f.whitespace(t),i=f.expression(t),null===i?(t.pos=e,null):(i===f.nullSentinel&&(i=null),{key:n,value:i})):(t.pos=e,null))},f.key=function(t){return f.name(t)||f.stringLiteral(t)||f.numberLiteral(t)},f.stringLiteral=function(t){var e,n;return e=t.pos,f.generic(t,'"')?(n=f.doubleQuotedString(t),f.generic(t,'"')?{type:R,value:n}:(t.pos=e,null)):f.generic(t,"'")?(n=f.singleQuotedString(t),f.generic(t,"'")?{type:R,value:n}:(t.pos=e,null)):null},f.singleQuotedString=function(t){var e,n,i,r,s;if(e=t.pos,n="",i=f.escapedChars(t),i&&(n+=i),r=f.unescapedSingleQuotedChars(t),r&&(n+=r),n)for(s=f.singleQuotedString(t);s;)n+=s,s=f.singleQuotedString(t);return n},f.unescapedSingleQuotedChars=f.regex(/^[^\\']+/),f.doubleQuotedString=function(t){var e,n,i,r,s;if(e=t.pos,n="",i=f.escapedChars(t),i&&(n+=i),r=f.unescapedDoubleQuotedChars(t),r&&(n+=r),!n)return"";for(s=f.doubleQuotedString(t);""!==s;)n+=s;return n},f.unescapedDoubleQuotedChars=f.regex(/^[^\\"]+/),f.escapedChars=function(t){var e,n="";for(e=f.escapedChar(t);e;)n+=e,e=f.escapedChar(t);return n||null},f.escapedChar=function(t){var e;return f.generic(t,"\\")?(e=t.str.charAt(t.pos),t.pos+=1,e):null},f.digits=f.regex(/^[0-9]+/),f.exponent=f.regex(/^[eE][\-+]?[0-9]+/),f.fraction=f.regex(/^\.[0-9]+/),f.integer=f.regex(/^(0|[1-9][0-9]*)/),f.name=f.regex(/^[a-zA-Z_$][a-zA-Z_$0-9]*/),f.reference=function(t){var e=f.name(t);return null===e?null:{type:I,name:e}},f.refinement=function(t){var e,n,i;return e=t.pos,f.generic(t,".")?(n=f.name(t))?{type:q,name:n}:(t.pos=e,null):f.generic(t,"[")?(i=f.expression(t),i&&f.generic(t,"]")?{type:q,expression:i}:(t.pos=e,null)):null},f.mustache=function(t){var e,n=t.pos;return f.generic(t,t.delimiters[0])?(e=f.delimiterChange(t))?f.generic(t,t.delimiters[1])?(t.delimiters=e,{type:M,mustacheType:S}):(t.pos=n,null):(e=f.mustacheContent(t),null===e?(t.pos=n,null):(f.whitespace(t),f.generic(t,t.delimiters[1])?e:(t.pos=n,null))):null},f.mustacheContent=function(t){var e,n,i,r,s,o,a;if(e=t.pos,n={type:M},i=f.mustacheType(t),n.mustacheType=i||b,i===L&&(o=t.remaining(),a=o.indexOf(t.delimiters[1]),-1!==a))return t.pos+=a,n;if(f.whitespace(t),f.generic(t,"(")){if(r=f.expression(t),f.whitespace(t),!f.generic(t,")"))return t.pos=e,null;n.expression=r}else if(n.ref=f.mustacheRef(t),!n.ref)return t.pos=e,null;return s=f.indexRef(t),null!==s&&(n.indexRef=s),n},f.indexRef=f.regex(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),function(t){var e,n,i,r;t.mustacheRef=function(n){var i,r,s;if(i=n.pos,t.generic(n,"."))return".";if(r=t.name(n),!r)return null;for(s=e(n);null!==s;)r+=s,s=e(n);return r},e=function(t){return n(t)||i(t)},n=t.regex(/^\.[a-zA-Z_$][a-zA-Z_$0-9]*/),i=function(t){var e=r(t);return e?"."+e:null},r=t.regex(/^\[(0|[1-9][0-9]*)\]/)}(f);var Pe={"#":N,"^":_,"/":F,">":O,"!":L,"&":b};f.mustacheType=function(t){var e=Pe[t.str.charAt(t.pos)];return e?(t.pos+=1,e):null},f.start=function(t){for(var e,n=[];t.pos<t.str.length;){if(e=f.mustache(t)||f.triple(t)||f.tag(t)||f.text(t),null===e&&t.remaining())throw Error("Could not parse template");n[n.length]=e}return n},f.tag=function(t){return f.openingTag(t)||f.closingTag(t)},f.attr=function(t){var e,n,i;return(n=f.attrName(t))?(e={name:n},i=f.attrValue(t),i&&(e.value=i),e):null},function(t){var e=/^[^\s"'>\/=]+/;t.attrName=function(n){var i,r;return i=n.pos,t.whitespace(n),(r=e.exec(n.str.substring(n.pos)))?(n.pos+=r[0].length,r[0]):null}}(f),f.attrValue=function(t){var e,n;return e=t.pos,f.whitespace(t),f.generic(t,"=")?(n=f.singleQuotedAttrValue(t)||f.doubleQuotedAttrValue(t)||f.unquotedAttrValue(t),null===n?(t.pos=e,null):n):(t.pos=e,null)},function(t){var e=function(e){var n,i,r;return n=e.pos,(i=t.doubleQuotedString(e))?(-1!==(r=i.indexOf(e.delimiters[0]))&&(i=i.substr(0,r),e.pos=n+i.length),{type:x,value:i}):null};t.doubleQuotedAttrValue=function(n){var i,r,s;if(i=n.pos,!t.generic(n,'"'))return null;for(r=[],s=t.mustache(n)||e(n);null!==s;)r[r.length]=s,s=t.mustache(n)||e(n);return t.generic(n,'"')?r:(n.pos=i,null)}}(f),function(t){var e=function(e){var n,i,r;return n=e.pos,(i=t.singleQuotedString(e))?(-1!==(r=i.indexOf(e.delimiters[0]))&&(i=i.substr(0,r),e.pos=n+i.length),{type:x,value:i}):null};t.singleQuotedAttrValue=function(n){var i,r,s;if(i=n.pos,!t.generic(n,"'"))return null;for(r=[],s=t.mustache(n)||e(n);null!==s;)r[r.length]=s,s=t.mustache(n)||e(n);return t.generic(n,"'")?r:(n.pos=i,null)}}(f),function(t){var e=t.regex(/^[^\s"'=<>`]+/),n=function(t){var n,i,r;return n=t.pos,(i=e(t))?(-1!==(r=i.indexOf(t.delimiters[0]))&&(i=i.substr(0,r),t.pos=n+i.length),{type:x,value:i}):null};t.unquotedAttrValue=function(e){var i,r;for(i=[],r=t.mustache(e)||n(e);null!==r;)i[i.length]=r,r=t.mustache(e)||n(e);return i.length?i:null}}(f),f.attrs=function(t){var e,n;if(n=f.attr(t),!n)return null;for(e=[];null!==n;)e[e.length]=n,n=f.attr(t);return e},f.closingTag=function(t){var e,n;return e=t.pos,f.generic(t,"<")?(n={type:A,closing:!0},f.generic(t,"/")?(n.name=f.tagName(t),n.name?f.generic(t,">")?n:(t.pos=e,null):(t.pos=e,null)):(t.pos=e,null)):null},f.openingTag=function(t){var e,n,i;return e=t.pos,f.generic(t,"<")?(n={type:A},n.name=f.tagName(t),n.name?(i=f.attrs(t),i&&(n.attrs=i),f.generic(t,"/")&&(n.selfClosing=!0),f.generic(t,">")?n:(t.pos=e,null)):(t.pos=e,null)):null},function(t){var e=/^[a-zA-Z][a-zA-Z0-9]*/;t.tagName=function(t){var n;return(n=e.exec(t.str.substring(t.pos)))?(t.pos+=n[0].length,n[0]):null}}(f),f.text=function(t){var e,n;return e=t.str.length,[t.delimiters[0],t.tripleDelimiters[0],"<"].forEach(function(n){var i=t.str.indexOf(n,t.pos);-1!==i&&(e=Math.min(i,e))}),e===t.pos?null:(n=t.str.substring(t.pos,e),t.pos=e,{type:x,value:n})},f.triple=function(t){var e,n=t.pos;return f.generic(t,t.tripleDelimiters[0])?(e=f.delimiterChange(t))?f.generic(t,t.delimiters[1])?(t.tripleDelimiters=e,{type:S}):(t.pos=n,null):(f.whitespace(t),e=f.mustacheRef(t),null===e?(t.pos=n,null):(f.whitespace(t),f.generic(t,t.tripleDelimiters[1])?{type:k,ref:e}:(t.pos=n,null))):null},f.whitespace=function(t){var e=y.exec(t.str.substring(t.pos));return e?(t.pos+=e[0].length,e[0]):null},e.prototype=d,e.adaptors=m,e.eventDefinitions=v,e.easing=n,e.extend=i,e.interpolate=r,e.interpolators=s,e.parse=fe,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Ractive=e})(this);