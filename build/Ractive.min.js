var Ractive,utils,types,namespaces,tokens,expr,stubs;utils={},types={},namespaces={},tokens={},expr={},stubs={};var TEXT=1,INTERPOLATOR=2,TRIPLE=3,SECTION=4,INVERTED=5,CLOSING=6,ELEMENT=7,PARTIAL=8,COMMENT=9,DELIMCHANGE=10,MUSTACHE=11,TAG=12,ATTR_VALUE_TOKEN=13;Ractive=function(t){var e,i,n,r;if(t)for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);e={preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,data:{}};for(i in e)e.hasOwnProperty(i)&&void 0===this[i]&&(this[i]=e[i]);if(void 0!==this.el&&(this.el=utils.getEl(this.el)),this._subs={},this._cache={},this._cacheMap={},this.nodes={},this._observers={},this._pendingResolution=[],this._defAttrs=[],this._proxies={},this._bound=[],this.bindings)if(utils.isArray(this.bindings))for(r=0;this.bindings.length>r;r+=1)this.bind(this.bindings[r]);else this.bind(this.bindings);if(this.partials)for(i in this.partials)if(this.partials.hasOwnProperty(i)){if(n=this.partials[i],"string"==typeof n){if(!Ractive.compile)throw Error('Missing Ractive.compile - cannot compile partial "'+i+'". Either precompile or use the version that includes the compiler');n=Ractive.compile(n,this)}1===n.length&&"string"==typeof n[0]&&(n=n[0]),this.partials[i]=n}if("string"==typeof this.template){if(!Ractive.compile)throw Error("Missing Ractive.compile - cannot compile template. Either precompile or use the version that includes the compiler");this.template=Ractive.compile(this.template,this)}this.template&&1===this.template.length&&"string"==typeof this.template[0]&&(this.template=this.template[0]),this.el&&this.render({el:this.el,append:this.append})};var proto=Ractive.prototype;Ractive.adaptors={},Ractive.eventDefinitions={},proto.bind=function(t){var e=this._bound;-1===e.indexOf(t)&&(e[e.length]=t,t.init(this))},proto.fire=function(t){var e,i,n,r=this._subs[t];if(r)for(e=Array.prototype.slice.call(arguments,1),i=0,n=r.length;n>i;i+=1)r[i].apply(this,e)},proto.get=function(t){var e,i,n,r,s,o;if(utils.isArray(t))e=t.slice(),i=e.join(".");else{if(this._cache.hasOwnProperty(t))return this._cache[t];e=utils.splitKeypath(t),i=e.join(".")}return this._cache.hasOwnProperty(i)?this._cache[i]:(n=e.pop(),s=e.length?this.get(e):this.data,"object"==typeof s&&s.hasOwnProperty(n)?(o=s[n],r=e.join("."),this._cacheMap[r]||(this._cacheMap[r]=[]),this._cacheMap[r].push(i),"function"==typeof o?o=o():this.modifyArrays&&(!utils.isArray(o)||o.ractive&&o._ractive.setting||utils.addKeypath(o,i,this)),this._cache[i]=o,o):void 0)},proto.link=function(t){var e=this;return function(i){e.set(t,i)}},proto.off=function(t,e){var i,n;e||(t?this._subs[t]=[]:this._subs={}),i=this._subs[t],i&&(n=i.indexOf(e),-1!==n&&i.splice(n,1))},proto.on=function(t,e){var i,n,r=this;if("object"==typeof t){i=[];for(n in t)t.hasOwnProperty(n)&&(i[i.length]=this.on(n,t[n]));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){r.off(t,e)}}},proto.render=function(t){var e=t.el?utils.getEl(t.el):this.el;if(!e)throw Error("You must specify a DOM element to render to");t.append||(e.innerHTML=""),t.callback&&(this.callback=t.callback),this.rendered=new utils.DomFragment({descriptor:this.template,root:this,owner:this,parentNode:e}),e.appendChild(this.rendered.docFrag)},function(t){var e,i;e=function(t,e,i){var n,r,s,o,a,h;for(n=utils.isArray(e)?e.slice():utils.splitKeypath(e),o=n.join("."),utils.clearCache(t,o),s=t.data;n.length>1;)r=n.shift(),s[r]||(s[r]=/^\s*[0-9]+\s*$/.test(n[0])?[]:{}),s=s[r];for(r=n[0],s[r]=i,t.setting||(t.setting=!0,t.fire("set",o,i),t.fire("set:"+o,i),t.setting=!1),utils.notifyObservers(t,o),a=t._pendingResolution.length;a--;)h=t._pendingResolution.splice(a,1)[0],utils.resolveRef(t,h)||(t._pendingResolution[t._pendingResolution.length]=h)},i=function(t,i){var n;for(n in i)i.hasOwnProperty(n)&&e(t,n,i[n])},t.set=function(t,n){for(utils.isObject(t)?i(this,t):e(this,t,n);this._defAttrs.length;)this._defAttrs.pop().update().deferred=!1}}(proto),proto.teardown=function(){var t;this.rendered.teardown();for(t in this._cacheMap)this._cacheMap.hasOwnProperty(t)&&utils.clearCache(this,t);for(t in this._cache)this._cache.hasOwnProperty(t)&&utils.clearCache(this,t);for(;this._bound.length;)this.unbind(this._bound.pop())},proto.unbind=function(t){var e,i=this._bound;e=i.indexOf(t),-1!==e&&(i.splice(e,1),t.teardown(this))},proto.update=function(t){return utils.clearCache(this,t||""),utils.notifyObservers(this,t),this.fire("update:"+t),this.fire("update",t),this},utils.cancelKeypathResolution=function(t,e){var i=t._pendingResolution.indexOf(e);-1!==i&&t._pendingResolution.splice(i,1)},utils.clearCache=function(t,e){var i,n=t._cacheMap[e];if(t.modifyArrays&&(i=t._cache[e],utils.isArray(i)&&!i._ractive.setting&&utils.removeKeypath(i,e,t)),delete t._cache[e],n)for(;n.length;)utils.clearCache(t,n.pop())},utils.getEl=function(t){var e,i;if("undefined"!=typeof window){if(i=window.document,!t)throw Error("No container element specified");if(t.tagName)return t;if("string"==typeof t&&(e=i.getElementById(t),!e&&i.querySelector&&(e=i.querySelector(t)),e.tagName))return e;if(t[0]&&t[0].tagName)return t[0];throw Error("Could not find container element")}},utils.notifyObservers=function(t,e){var i,n,r,s,o=t._observers[e]||[];for(i=0;o.length>i;i+=1)if(r=o[i])for(n=0;r.length>n;n+=1)s=r[n],s.update(t.get(s.keys))},utils.observe=function(t,e){var i,n,r=[],s=e.descriptor.p||0;for(i=function(i){var n;n=t._observers[i]=t._observers[i]||[],n=n[s]=n[s]||[],n[n.length]=e,r[r.length]={keypath:i,priority:s,mustache:e}},n=utils.splitKeypath(e.keypath);n.length;)i(n.join(".")),n.pop();return i(n[0]),r},utils.registerMustache=function(t,e){var i,n;return e.parentFragment.indexRefs&&e.parentFragment.indexRefs.hasOwnProperty(e.descriptor.r)?(n=e.parentFragment.indexRefs[e.descriptor.r],e.update(n),void 0):(i=utils.resolveRef(t,e),i||(t._pendingResolution[t._pendingResolution.length]=e),void 0)},utils.resolveRef=function(t,e){var i,n,r,s,o,a,h,p;if(i=e.descriptor.r,n=e.contextStack,"."===i)p=n[n.length-1];else{for(r=utils.splitKeypath(i),s=r.pop(),n=n.concat();n.length;)if(o=n.pop(),a=utils.splitKeypath(o),h=t.get(a.concat(r)),"object"==typeof h&&h.hasOwnProperty(s)){p=o+"."+i;break}p||void 0===t.get(i)||(p=i)}return p?(e.keypath=p,e.keys=utils.splitKeypath(e.keypath),e.observerRefs=utils.observe(t,e),e.update(t.get(e.keypath)),!0):!1},utils.unobserve=function(t,e){var i,n,r,s,o;if(i=t._observers[e.keypath],i&&(n=i[e.priority])){if(n.indexOf)r=n.indexOf(e.observer);else for(s=0,o=n.length;o>s;s+=1)if(n[s]===e.mustache){r=s;break}-1!==r&&(n.splice(r,1),0===n.length&&delete i[e.priority],0===i.length&&delete t._observers[e.keypath])}},utils.unobserveAll=function(t,e){for(;e.length;)utils.unobserve(t,e.shift())},utils.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},utils.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},utils.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t},function(t){"use strict";var e,i,n,r,s,o,a;e=Object.defineProperty?Object.defineProperty:function(t,e,i){t[e]=i.value},t.addKeypath=function(t,i,r){var s,o,a,h;t._ractive?(s=t._ractive.roots,o=t._ractive.keypathsByIndex,a=s.indexOf(r),-1===a&&(a=s.length,s[a]=r),o[a]||(o[a]=[]),h=o[a],-1===h.indexOf(i)&&(h[h.length]=i)):(e(t,"_ractive",{value:{roots:[r],keypathsByIndex:[[i]]},configurable:!0}),n(t))},t.removeKeypath=function(t,e,i){var n,s,o,a,h;if(!t._ractive)throw Error("Attempted to remove keypath from non-wrapped array. This error is unexpected - please send a bug report to @rich_harris");if(n=t._ractive.roots,o=n.indexOf(i),-1===o)throw Error("Ractive instance was not listed as a dependent of this array. This error is unexpected - please send a bug report to @rich_harris");if(s=t._ractive.keypathsByIndex,a=s[o],h=a.indexOf(e),-1===h)throw Error("Attempted to unlink non-linked keypath from array. This error is unexpected - please send a bug report to @rich_harris");a.splice(h,1),a.length||n.splice(o,1),n.length||r(t)},i=function(t){var e,i,n,r,s,o;for(e=t._ractive.roots,i=t._ractive.keypathsByIndex,s=e.length;s--;)for(n=e[s],r=i[s],o=r.length;o--;)n.set(r[o],t)},s=[],a=["pop","push","reverse","shift","sort","splice","unshift"],a.forEach(function(t){var n=function(){var e=Array.prototype[t].apply(this,arguments);return this._ractive.setting=!0,i(this),this._ractive.setting=!1,e};e(s,t,{value:n})}),o={},o.__proto__?(n=function(t){t.__proto__=s},r=function(t){delete t._ractive,t.__proto__=Array.prototype}):(n=function(t){var i,n;for(i=a.length;i--;)n=a[i],e(t,n,{value:s[n]})},r=function(t){var e;for(e=a.length;e--;)delete t[a[e]];delete t._ractive})}(utils),utils.namespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},function(t,e){t.splitKeypath=function(t){var i,n,r,s,o;if(e[t])return e[t].concat();for(r=[],s=t,n=0;s.length;){if(i=s.indexOf(".",n),-1===i)o=s,s="";else{if("\\"===s.charAt(i-1)&&"\\"!==s.charAt(i-2)){n=i+1;continue}o=s.substr(0,i),n=0}/\[/.test(o)?r=r.concat(o.replace(/\[\s*([0-9]+)\s*\]/g,".$1").split(".")):r[r.length]=o,s=s.substring(i+1)}return e[t]=r,r.concat()}}(utils,{}),Ractive.adaptors.backbone=function(t,e){var i,n,r,s,o,a,h;return e&&(e+=".",o=RegExp("^"+e.replace(/\./g,"\\.")),a=e.length),console.log(e),{init:function(p){e?(h=function(t){var i,n;n={};for(i in t)t.hasOwnProperty(i)&&(n[e+i]=t[i]);return n},s=function(t){i||(n=!0,p.set(h(t.changed)),n=!1)},r=function(e,r){n||o.test(e)&&(i=!0,t.set(e.substring(a),r),i=!1)}):(s=function(t){i||(n=!0,p.set(t.changed),n=!1)},r=function(e,r){n||(i=!0,t.set(e,r),i=!1)}),t.on("change",s),p.on("set",r),p.set(e?h(t.attributes):t.attributes)},teardown:function(e){t.off("change",s),e.off("set",r)}}},Ractive.adaptors.statesman=function(t,e){var i,n,r,s;return e=e?e+".":"",{init:function(e){s=function(t,r){i||(n=!0,e.set(t,r),n=!1)},r=function(e,r){n||(i=!0,t.set(e,r),i=!1)},t.on("set",s),e.on("set",r),e.set(t.get())},teardown:function(e){t.off("change",s),e.off("set",r)}}},proto.animate=function(t,e,i){var n,r,s,o,a;for(i=i||{},o=animationCollection.animations.length;o--;)animationCollection.animations[o].keypath===t&&animationCollection.animations[o].stop();i.easing&&(n="function"==typeof i.easing?i.easing:this.easing&&this.easing[i.easing]?this.easing[i.easing]:R.easing[i.easing],"function"!=typeof n&&(n=null)),r=void 0===i.duration?400:i.duration,a=utils.splitKeypath(t),s=new utils.Animation({keys:a,from:this.get(a),to:e,root:this,duration:r,easing:n,step:i.step,complete:i.complete}),animationCollection.push(s)},Ractive.easing={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},Ractive.interpolate=function(t,e){return utils.isNumeric(t)&&utils.isNumeric(e)?Ractive.interpolators.number(+t,+e):utils.isArray(t)&&utils.isArray(e)?Ractive.interpolators.array(t,e):utils.isObject(t)&&utils.isObject(e)?Ractive.interpolators.object(t,e):function(){return e}},Ractive.interpolators={number:function(t,e){var i=e-t;return i?function(e){return t+e*i}:function(){return t}},array:function(t,e){var i,n,r,s;for(i=[],n=[],s=r=Math.min(t.length,e.length);s--;)n[s]=Ractive.interpolate(t[s],e[s]);for(s=r;t.length>s;s+=1)i[s]=t[s];for(s=r;e.length>s;s+=1)i[s]=e[s];return function(t){for(var e=r;e--;)i[e]=n[e](t);return i}},object:function(t,e){var i,n,r,s,o=[];r={},n={};for(s in t)t.hasOwnProperty(s)&&(e.hasOwnProperty(s)?(o[o.length]=s,n[s]=Ractive.interpolate(t[s],e[s])):r[s]=t[s]);for(s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(r[s]=e[s]);return i=o.length,function(t){for(var e,s=i;s--;)e=o[s],r[e]=n[e](t);return r}}},utils.Animation=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Ractive.interpolate(this.from,this.to),this.running=!0},utils.Animation.prototype={tick:function(){var t,e,i,n;return this.running?(n=Date.now(),t=n-this.startTime,t>=this.duration?(this.root.set(this.keys,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,i=this.interpolator(e),this.root.set(this.keys,i),this.step&&this.step(e,i),!0)):!1},stop:function(){this.running=!1}},function(){"use strict";var t,e;e="undefined"!=typeof window?window:{},function(t,e,i){var n;for(n=0;t.length>n&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[t[n]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[n]+"CancelAnimationFrame"]||i[t[n]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(t){var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-e)),s=i.setTimeout(function(){t(n+r)},r),e=n+r,s}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){i.clearTimeout(t)})}(["ms","moz","webkit","o"],0,e),t={animations:[],tick:function(){var t,i;for(t=0;this.animations.length>t;t+=1)i=this.animations[t],i.tick()||this.animations.splice(t--,1);this.animations.length?e.requestAnimationFrame(this.boundTick):this.running=!1},boundTick:function(){t.tick()},push:function(t){this.animations[this.animations.length]=t,this.running||(this.running=!0,this.tick())}}}(utils);var Ractive=Ractive||{},utils=utils||{};(function(t,e){"use strict";t.compile=function(t,i){var n,r,s;return i=i||{},i.sanitize===!0&&(i.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),n=e.tokenize(t,i),r=e.getFragmentStubFromTokens(n,0,i,i.preserveWhitespace),s=r.toJson(),"string"==typeof s?[s]:s},e.getFragmentStubFromTokens=function(t,e,i,n){var r,s;return r={pos:0,tokens:t,next:function(){return r.tokens[r.pos]},options:i},s=stubs.fragment(r,e,n)}})(Ractive,utils),function(t){var e,i,n,r,s,o,a,h,p,c;t.element=function(t,i,n){var r,s=t.next();return s.type===TAG?(r=new e(s,t,i,n),t.options.sanitize&&t.options.sanitize.elements&&-1!==t.options.sanitize.elements.indexOf(r.lcTag)?null:r):null},i="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),r="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),s={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},o=function(t){return"on"!==t.name.substr(0,2)},a=function(t){return"proxy-"!==t.name.substr(0,6)},h=function(t){return"proxy-"===t.name.substr(0,6)?(t.name=t.name.substring(6),!0):!1},p=/^\s+/,c=/\s+$/,e=function(e,n,r,u){var l,d,f,m,r,g,v;for(this.tag=e.name,this.lcTag=this.tag.toLowerCase(),this.priority=r=r||0,n.pos+=1,u=u||"pre"===this.lcTag,e.attrs&&(f=e.attrs.filter(a),m=e.attrs.filter(h),n.options.sanitize&&n.options.sanitize.eventAttributes&&(f=f.filter(o)),g=function(t){return{name:t.name,value:utils.getFragmentStubFromTokens(t.value,r+1)}},f.length&&(this.attributes=f.map(g)),m.length&&(this.proxies=m.map(g))),(e.selfClosing||-1!==i.indexOf(this.lcTag))&&(l=!0),this.siblings=s[this.lcTag],this.items=[],d=n.next();d;){if(d.type===TAG){if(d.closing){d.name.toLowerCase()===this.lcTag&&(n.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(d.name.toLowerCase()))break}this.items[this.items.length]=t.item(n,this.priority+1),d=n.next()}u||(v=this.items[0],v&&v.type===TEXT&&(v.text=v.text.replace(p,""),v.text||this.items.shift()),v=this.items[this.items.length-1],v&&v.type===TEXT&&(v.text=v.text.replace(c,""),v.text||this.items.pop()))},e.prototype={toJson:function(t){var e,i,n,r,s;if(e={t:ELEMENT,e:this.tag},this.attributes&&this.attributes.length)for(e.a={},s=this.attributes.length,r=0;s>r;r+=1)i=this.attributes[r].name,void 0===this.attributes[r].value&&(n=null),n=stubUtils.jsonify(this.attributes[r].value.items,t),e.a[i]=n;if(this.items.length&&(e.f=stubUtils.jsonify(this.items,t)),this.proxies&&this.proxies.length)for(e.x={},s=this.proxies.length,r=0;s>r;r+=1)i=this.proxies[r].name,n=stubUtils.jsonify(this.proxies[r].value.items,t),e.x[i]=n;return this.json=e,e},toString:function(){var t,e,r,s,o,a,h;if(void 0!==this.str)return this.str;if(-1===n.indexOf(this.tag.toLowerCase()))return this.str=!1;if(a=stubUtils.stringify(this.items),a===!1)return this.str=!1;if(this.proxies)return this.str=!1;if(h=-1!==i.indexOf(this.tag.toLowerCase()),t="<"+this.tag,this.attributes)for(e=0,r=this.attributes.length;r>e;e+=1){if(-1!==this.attributes[e].name.indexOf(":"))return this.str=!1;if(s=" "+this.attributes[e].name,void 0!==this.attributes[e].value){if(o=""+this.attributes[e].value,o===!1)return this.str=!1;""!==o&&(s+="=",s+=/[\s"'=<>`]/.test(o)?'"'+o.replace(/"/g,"&quot;")+'"':o)}t+=s}return this.isSelfClosing&&!h?(t+="/>",this.str=t):(t+=">",h?this.str=t:(t+=a,t+="</"+this.tag+">",this.str=t))}}}(stubs),function(t){var e;t.fragment=function(t,i,n){return new e(t,i,n)},e=function(e,i,n){var r,s;for(r=this.items=[],s=t.item(e,i,n);null!==s;)r[r.length]=s,s=t.item(e,i,n)},e.prototype={toJson:function(t){var e=stubUtils.jsonify(this.items,t);return e},toString:function(){var t=stubUtils.stringify(this.items);return t}}}(stubs),stubs.item=function(t,e,i){return t.next()?stubs.text(t,i)||stubs.mustache(t,e,i)||stubs.element(t,e,i):null},function(t){var e,i;t.mustache=function(t,n,r){var s=t.next();return s.type===MUSTACHE||s.type===TRIPLE?s.mustacheType===SECTION||s.mustacheType===INVERTED?new i(s,t,n,r):new e(s,t,n):null},e=function(t,e,i){this.type=t.type===TRIPLE?TRIPLE:t.mustacheType,this.ref=t.ref,this.expr=t.expr,this.priority=i,e.pos+=1},e.prototype={toJson:function(){var t;return this.json?this.json:(t={t:this.type},this.ref&&(t.r=this.ref),this.expr&&(t.m=this.expr),this.priority&&(t.p=this.priority),this.json=t,t)},toString:function(){return!1}},i=function(e,i,n,r){var s;for(this.ref=e.ref,this.indexRef=e.indexRef,this.expr=e.expr,this.priority=n||0,this.inverted=e.mustacheType===INVERTED,i.pos+=1,this.items=[],s=i.next();s;){if(s.mustacheType===CLOSING&&(s.ref===this.ref||s.expr&&this.expr)){i.pos+=1;break}this.items[this.items.length]=t.item(i,this.priority+1,r),s=i.next()}},i.prototype={toJson:function(t){var e;return this.json?this.json:(e={t:SECTION},this.ref&&(e.r=this.ref),this.indexRef&&(e.i=this.indexRef),this.inverted&&(e.n=!0),this.expr&&(e.m=this.expr),this.items.length&&(e.f=stubUtils.jsonify(this.items,t)),this.priority&&(e.p=this.priority),this.json=e,e)},toString:function(){return!1}}}(stubs),function(t){var e,i,n,r;t.text=function(t,i){var n=t.next();return n.type===TEXT?(t.pos+=1,new e(n,i)):null},i={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},n=function(t){var e;return e=t.replace(/&([a-zA-Z]+);/,function(t,e){return i[e]?String.fromCharCode(i[e]):t}),e=e.replace(/&#x([0-9]+);/,function(t,e){return String.fromCharCode(parseInt(e,16))}),e=e.replace(/&#([0-9]+);/,function(t,e){return String.fromCharCode(e)})},r=/\s+/g,e=function(t,e){this.type=TEXT,this.text=e?t.value:t.value.replace(r," ")},e.prototype={toJson:function(){return this.decoded||(this.decoded=n(this.text))},toString:function(){return this.text}}}(stubs);var stubUtils={stringify:function(t){var e,i,n,r="";for(i=0,n=t.length;n>i;i+=1){if(e=""+t[i],e===!1)return!1;r+=e}return r},jsonify:function(t,e){var i,n;return e||(i=stubUtils.stringify(t),i===!1)?n=t.map(function(t){return t.toJson(e)}):i}};(function(t,e){"use strict";var i,n;e.tokenize=function(t,i){var n,r;return i=i||{},n={str:e.stripHtmlComments(t),pos:0,delimiters:i.delimiters||["{{","}}"],tripleDelimiters:i.tripleDelimiters||["{{{","}}}"],remaining:function(){return n.str.substring(n.pos)}},r=expr.start(n),e.stripStandalones(r),e.stripCommentTokens(r),r},i=/\s/,n={"#":SECTION,"^":INVERTED,"/":CLOSING,">":PARTIAL,"!":COMMENT,"&":INTERPOLATOR}})(Ractive,utils),expr.regex=function(t){return function(e){var i=t.exec(e.str.substring(e.pos));return i?(e.pos+=i[0].length,i[1]||i[0]):null}},expr.nullSentinel={},function(t){var e=t.regex(/^[^\s=]+/);t.delimiterChange=function(i){var n,r,s;return t.generic(i,"=")?(n=i.pos,t.whitespace(i),(r=e(i))?(t.whitespace(i),(s=e(i))?(t.whitespace(i),t.generic(i,"=")?[r,s]:(i.pos=n,null)):(i.pos=n,null)):(i.pos=n,null)):null}}(expr),expr.generic=function(t,e){var i;return i=t.str.substr(t.pos,e.length),i===e?(t.pos+=e.length,e):null},expr.expressionList=function(t){var e,i,n,r;if(e=t.pos,n=expr.expression(t),null===n)return null;if(i=[n],expr.whitespace(t),expr.generic(t,",")){if(r=expr.expressionList(t),null===r)return t.pos=e,null;i=i.concat(r)}return i},expr.expression=function(t){var e,i;return e=t.pos,expr.whitespace(t),i=typeof_(t)||unaryNegation(t)||unaryPlus(t)||bitwiseNot(t)||logicalNot(t)||conditional(t)};var leftToRight=function(t,e){return function(i){var n,r,s;return(r=e(i))?(n=i.pos,expr.whitespace(i),expr.generic(i,t)?(expr.whitespace(i),s=expr.expression(i),s?{symbol:t,expressions:[r,s]}:(i.pos=n,r)):(i.pos=n,r)):null}},bracketed=function(t){var e,i;return e=t.pos,expr.generic(t,"(")?(expr.whitespace(),(i=expr.expression(t))?(expr.whitespace(),expr.generic(t,")")?void 0:(t.pos=e,null)):(t.pos=e,null)):null},primary=function(t){var e=expr.literal(t)||expr.reference(t)||bracketed(t);return e},member=function(t){var e,i,n;if(e=primary(t),!e)return null;if(i=expr.refinement(t),!i)return e;for(;null!==i;)n={type:"MEMBER",expr:e,refinement:i},e=n,i=expr.refinement(t);return n},invocation=function(t){var e,i,n,r;return(i=member(t))?(e=t.pos,expr.generic(t,"(")?(expr.whitespace(t),n=expr.expressionList(t),expr.whitespace(t),expr.generic(t,")")?(r={type:"INVOCATION",expression:i},n&&(r.parameters=n),r):(t.pos=e,i)):i):null},i,len,fn,ltrOperators="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),ltrOperatorFns=[],prev=invocation;for(i=0,len=ltrOperators.length;len>i;i+=1)fn=leftToRight(ltrOperators[i],prev),prev=fn;var logicalOr=prev,conditional=function(t){var e,i,n,r;return(i=logicalOr(t))?(e=t.pos,expr.whitespace(t),expr.generic(t,"?")?(expr.whitespace(t),(n=expr.expression(t))?(expr.whitespace(t),r=expr.expression(t),r?{symbol:"?:",expressions:[i,n,r]}:(t.pos=e,i)):(t.pos=e,i)):(t.pos=e,i)):null},rightToLeft=function(t,e){return function(i){var n,r;return n=i.pos,expr.generic(i,t)?(expr.whitespace(i),r=expr.expression(i),r?{type:e,expression:r}:(i.pos=n,null)):null}},logicalNot=rightToLeft("!","LOGICAL_NOT"),bitwiseNot=rightToLeft("~","BITWISE_NOT"),unaryPlus=rightToLeft("+","UNARY_PLUS"),unaryNegation=rightToLeft("-","UNARY_NEGATION"),typeof_=rightToLeft("typeof","TYPEOF");expr.arrayLiteral=function(t){var e,i;return e=t.pos,expr.whitespace(t),expr.generic(t,"[")?(i=expr.expressionList(t),expr.generic(t,"]")?{type:"ARRAY_LITERAL",members:i}:(t.pos=e,null)):(t.pos=e,null)},expr.literal=function(t){return expr.numberLiteral(t)||expr.stringLiteral(t)||expr.objectLiteral(t)||expr.arrayLiteral(t)},expr.numberLiteral=function(t){var e,i;return e=t.pos,i=expr.integer(t),null===i?null:(i+=expr.fraction(t)||"",i+=expr.exponent(t)||"",{type:"NUMBER_LITERAL",value:+i})},expr.objectLiteral=function(t){var e,i,n,r,s;if(e=t.pos,expr.whitespace(t),!expr.generic(t,"{"))return t.pos=e,null;if(i={},n=expr.keyValuePairs(t))for(r=n.length;r--;){if(s=n[r],i.hasOwnProperty(s.key))throw Error("An object cannot have multiple keys with the same name");i[s.key]=s.value}return expr.whitespace(t),expr.generic(t,"}")?{type:"OBJECT_LITERAL",value:i}:(t.pos=e,null)},expr.keyValuePairs=function(t){var e,i,n,r;return e=t.pos,n=expr.keyValuePair(t),null===n?null:(i=[n],expr.generic(t,",")?(r=expr.keyValuePairs(t),r?i.concat(r):(t.pos=e,null)):i)},expr.keyValuePair=function(t){var e,i,n;return e=t.pos,expr.whitespace(t),i=expr.key(t),null===i?(t.pos=e,null):(expr.whitespace(t),expr.generic(t,":")?(expr.whitespace(t),n=expr.expression(t),null===n?(t.pos=e,null):(n===expr.nullSentinel&&(n=null),{key:i,value:n})):(t.pos=e,null))},expr.key=function(t){return expr.name(t)||expr.stringLiteral(t)||expr.numberLiteral(t)},expr.stringLiteral=function(t){var e,i;return e=t.pos,expr.generic(t,'"')?(i=expr.doubleQuotedString(t),expr.generic(t,'"')?{type:"STRING_LITERAL",value:i}:(t.pos=e,null)):expr.generic(t,"'")?(i=expr.singleQuotedString(t),expr.generic(t,"'")?{type:"STRING_LITERAL",value:i}:(t.pos=e,null)):null},expr.singleQuotedString=function(t){var e,i,n,r,s;if(e=t.pos,i="",n=expr.escapedChars(t),n&&(i+=n),r=expr.unescapedSingleQuotedChars(t),r&&(i+=r),i)for(s=expr.singleQuotedString(t);s;)i+=s,s=expr.singleQuotedString(t);return i},expr.unescapedSingleQuotedChars=expr.regex(/^[^\\']+/),expr.doubleQuotedString=function(t){var e,i,n,r,s;if(e=t.pos,i="",n=expr.escapedChars(t),n&&(i+=n),r=expr.unescapedDoubleQuotedChars(t),r&&(i+=r),!i)return"";for(s=expr.doubleQuotedString(t);""!==s;)i+=s;return i},expr.unescapedDoubleQuotedChars=expr.regex(/^[^\\"]+/),expr.escapedChars=function(t){var e,i="";for(e=expr.escapedChar(t);e;)i+=e,e=expr.escapedChar(t);return i||null},expr.escapedChar=function(t){var e;return expr.generic(t,"\\")?(e=t.str.charAt(t.pos),t.pos+=1,e):null},expr.digits=expr.regex(/^[0-9]+/),expr.exponent=expr.regex(/^[eE][\-+]?[0-9]+/),expr.fraction=expr.regex(/^\.[0-9]+/),expr.integer=expr.regex(/^(0|[1-9][0-9]*)/),expr.name=expr.regex(/^[a-zA-Z_$][a-zA-Z_$0-9]*/),expr.reference=function(t){var e=expr.name(t);return null===e?null:{type:"REFERENCE",name:e}},expr.refinement=function(t){var e,i,n;return e=t.pos,expr.generic(t,".")?(i=expr.name(t))?{type:"REFINEMENT",name:i}:(t.pos=e,null):expr.generic(t,"[")?(n=expr.expression(t),n&&expr.generic(t,"]")?{type:"REFINEMENT",expr:n}:(t.pos=e,null)):null},expr.mustache=function(t){var e,i=t.pos;return expr.generic(t,t.delimiters[0])?(e=expr.delimiterChange(t))?expr.generic(t,t.delimiters[1])?(t.delimiters=e,{type:MUSTACHE,mustacheType:DELIMCHANGE}):(t.pos=i,null):(e=expr.mustacheContent(t),null===e?(t.pos=i,null):(expr.whitespace(t),expr.generic(t,t.delimiters[1])?e:(t.pos=i,null))):null},expr.mustacheContent=function(t){var e,i,n,r,s,o,a;return e=t.pos,i={type:MUSTACHE},n=expr.mustacheType(t),i.mustacheType=n||INTERPOLATOR,n===COMMENT&&(o=t.remaining(),a=o.indexOf(t.delimiters[1]),-1!==a)?(t.pos+=a,i):(expr.whitespace(t),expr.generic(t,"(")?(r=expr.expression(t))?(expr.whitespace(t),expr.generic(t,")")?(i.expression=r,i):(t.pos=e,null)):(t.pos=e,null):(i.ref=expr.mustacheRef(t),i.ref?(s=expr.indexRef(t),null!==s&&(i.indexRef=s),i):(t.pos=e,null)))},expr.indexRef=expr.regex(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),function(t){var e,i,n,r;t.mustacheRef=function(i){var n,r,s;if(n=i.pos,t.generic(i,"."))return".";if(r=t.name(i),!r)return null;for(s=e(i);null!==s;)r+=s,s=e(i);return r},e=function(t){return i(t)||n(t)},i=t.regex(/^\.[a-zA-Z_$][a-zA-Z_$0-9]*/),n=function(t){var e=r(t);return e?"."+e:null},r=t.regex(/^\[(0|[1-9][0-9]*)\]/)}(expr);var mustacheTypes={"#":SECTION,"^":INVERTED,"/":CLOSING,">":PARTIAL,"!":COMMENT,"&":INTERPOLATOR};expr.mustacheType=function(t){var e=mustacheTypes[t.str.charAt(t.pos)];return e?(t.pos+=1,e):null},expr.start=function(t){for(var e,i=[];t.pos<t.str.length;){if(e=expr.mustache(t)||expr.triple(t)||expr.tag(t)||expr.text(t),!e)throw Error("Could not parse template");i[i.length]=e}return i},expr.tag=function(t){return expr.openingTag(t)||expr.closingTag(t)},expr.attr=function(t){var e,i,n;return(i=expr.attrName(t))?(e={name:i},n=expr.attrValue(t),n&&(e.value=n),e):null},function(t,e){t.attrName=function(i){var n,r;return n=i.pos,t.whitespace(i),(r=e.exec(i.str.substring(i.pos)))?(i.pos+=r[0].length,r[0]):null}}(expr,/^[^\s"'>\/=]+/,/\s+/),expr.attrValue=function(t){var e,i;return e=t.pos,expr.whitespace(t),expr.generic(t,"=")?(i=expr.singleQuotedAttrValue(t)||expr.doubleQuotedAttrValue(t)||expr.unquotedAttrValue(t),null===i?(t.pos=e,null):i):(t.pos=e,null)},function(t){var e=function(e){var i,n,r;return i=e.pos,(n=t.doubleQuotedString(e))?(-1!==(r=n.indexOf(e.delimiters[0]))&&(n=n.substr(0,r),e.pos=i+n.length),{type:TEXT,value:n}):null};t.doubleQuotedAttrValue=function(i){var n,r,s;if(n=i.pos,!t.generic(i,'"'))return null;for(r=[],s=t.mustache(i)||e(i);null!==s;)r[r.length]=s,s=t.mustache(i)||e(i);return t.generic(i,'"')?r:(i.pos=n,null)}}(expr),function(t){var e=function(e){var i,n,r;return i=e.pos,(n=t.singleQuotedString(e))?(-1!==(r=n.indexOf(e.delimiters[0]))&&(n=n.substr(0,r),e.pos=i+n.length),{type:TEXT,value:n}):null};t.singleQuotedAttrValue=function(i){var n,r,s;if(n=i.pos,!t.generic(i,"'"))return null;
for(r=[],s=t.mustache(i)||e(i);null!==s;)r[r.length]=s,s=t.mustache(i)||e(i);return t.generic(i,"'")?r:(i.pos=n,null)}}(expr),function(t){var e=t.regex(/^[^\s"'=<>`]+/),i=function(t){var i,n,r;return i=t.pos,(n=e(t))?(-1!==(r=n.indexOf(t.delimiters[0]))&&(n=n.substr(0,r),t.pos=i+n.length),{type:TEXT,value:n}):null};t.unquotedAttrValue=function(e){var n,r;for(n=[],r=t.mustache(e)||i(e);null!==r;)n[n.length]=r,r=t.mustache(e)||i(e);return n.length?n:null}}(expr),expr.attrs=function(t){var e,i;if(i=expr.attr(t),!i)return null;for(e=[];null!==i;)e[e.length]=i,i=expr.attr(t);return e},expr.closingTag=function(t){var e,i;return e=t.pos,expr.generic(t,"<")?(i={type:TAG,closing:!0},expr.generic(t,"/")?(i.name=expr.tagName(t),i.name?expr.generic(t,">")?i:(t.pos=e,null):(t.pos=e,null)):(t.pos=e,null)):null},expr.openingTag=function(t){var e,i,n;return e=t.pos,expr.generic(t,"<")?(i={type:TAG},i.name=expr.tagName(t),i.name?(n=expr.attrs(t),n&&(i.attrs=n),expr.generic(t,"/")&&(i.selfClosing=!0),expr.generic(t,">")?i:(t.pos=e,null)):(t.pos=e,null)):null},function(t,e){t.tagName=function(t){var i;return(i=e.exec(t.str.substring(t.pos)))?(t.pos+=i[0].length,i[0]):null}}(expr,/^[a-zA-Z][a-zA-Z0-9]*/),expr.text=function(t){var e,i;return e=t.str.length,[t.delimiters[0],t.tripleDelimiters[0],"<"].forEach(function(i){var n=t.str.indexOf(i,t.pos);-1!==n&&(e=Math.min(n,e))}),e===t.pos?null:(i=t.str.substring(t.pos,e),t.pos=e,{type:TEXT,value:i})},expr.triple=function(t){var e,i=t.pos;return expr.generic(t,t.tripleDelimiters[0])?(e=expr.delimiterChange(t))?expr.generic(t,t.delimiters[1])?(t.tripleDelimiters=e,{type:DELIMCHANGE}):(t.pos=i,null):(expr.whitespace(t),e=expr.mustacheRef(t),null===e?(t.pos=i,null):(expr.whitespace(t),expr.generic(t,t.tripleDelimiters[1])?{type:TRIPLE,ref:e}:(t.pos=i,null))):null},function(t,e){t.whitespace=function(t){var i=e.exec(t.str.substring(t.pos));return i?(t.pos+=i[0].length,i[0]):null}}(expr,/^\s+/),utils.stripCommentTokens=function(t){var e,i,n,r;for(e=0;t.length>e;e+=1)i=t[e],n=t[e-1],r=t[e+1],(i.mustacheType===COMMENT||i.mustacheType===DELIMCHANGE)&&(t.splice(e,1),n&&r&&n.type===TEXT&&r.type===TEXT&&(n.value+=r.value,t.splice(e,1)),e-=1);return t},utils.stripHtmlComments=function(t){var e,i,n;for(n="";t.length;){if(e=t.indexOf("<!--"),i=t.indexOf("-->"),-1===e&&-1===i){n+=t;break}if(-1!==e&&-1===i)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==i&&-1===e||e>i)throw"Illegal HTML - unexpected closing comment sequence ('-->')";n+=t.substr(0,e),t=t.substring(i+3)}return n},utils.stripStandalones=function(t){var e,i,n,r,s,o;for(s=/^\s*\r?\n/,o=/\r?\n\s*$/,e=2;t.length>e;e+=1)i=t[e],n=t[e-1],r=t[e-2],i.type===TEXT&&n.type===MUSTACHE&&r.type===TEXT&&o.test(r.value)&&s.test(i.value)&&(n.mustacheType!==INTERPOLATOR&&n.mustacheType!==TRIPLE&&(r.value=r.value.replace(o,"\n")),i.value=i.value.replace(s,""),""===i.value&&t.splice(e--,1));return t},Ractive.extend=function(t){var e,i,n;e=this,i=function(){Ractive.apply(this,arguments),this.init&&this.init.apply(this,arguments)};for(n in e.prototype)e.prototype.hasOwnProperty(n)&&(i.prototype[n]=e.prototype[n]);for(n in t)if(t.hasOwnProperty(n)){if(Ractive.prototype.hasOwnProperty(n))throw Error('Cannot override "'+n+'" method or property of Ractive prototype');i.prototype[n]=t[n]}return i.extend=e.extend,i},function(t){"use strict";var e,i,n,r,s,o,a,h,p,c;n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},i="undefined"!=typeof window?window.document:null,e=function(t,e){var n,r=[];for(n=i.createElement("div"),n.innerHTML=t;n.firstChild;)r[r.length]=n.firstChild,e.appendChild(n.firstChild);return r},t.DomFragment=function(n){return this.docFrag=i.createDocumentFragment(),"string"==typeof n.descriptor?(this.nodes=e(n.descriptor,this.docFrag),void 0):(t.Fragment.call(this,n),void 0)},t.DomFragment.prototype={createItem:function(t){if("string"==typeof t.descriptor)return new r(t,this.docFrag);switch(t.descriptor.t){case INTERPOLATOR:return new h(t,this.docFrag);case SECTION:return new c(t,this.docFrag);case TRIPLE:return new p(t,this.docFrag);case ELEMENT:return new s(t,this.docFrag);case PARTIAL:return new o(t,this.docFrag);default:throw"WTF? not sure what happened here..."}},teardown:function(){var t;if(this.nodes)for(;this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);else for(;this.items.length;)this.items.pop().teardown()},firstNode:function(){return this.items[0]?this.items[0].firstNode():null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():null}},o=function(e,i){this.parentFragment=e.parentFragment,this.fragment=new t.DomFragment({descriptor:e.root.partials[e.descriptor.r]||[],root:e.root,parentNode:e.parentNode,contextStack:e.contextStack,owner:this}),i.appendChild(this.fragment.docFrag)},o.prototype={teardown:function(){this.fragment.teardown()}},r=function(t,e){this.node=i.createTextNode(t.descriptor),this.root=t.root,this.parentNode=t.parentNode,e.appendChild(this.node)},r.prototype={teardown:function(){this.root.el.contains(this.node)&&this.parentNode.removeChild(this.node)},firstNode:function(){return this.node}},s=function(e,n){var r,s,o,h,p,c,u,l;if(r=this.descriptor=e.descriptor,this.root=e.root,this.parentFragment=e.parentFragment,this.parentNode=e.parentNode,this.index=e.index,this.eventListeners=[],this.customEventListeners=[],r.a&&r.a.xmlns){if(s=r.a.xmlns,"string"!=typeof s)throw Error("Namespace attribute cannot contain mustaches")}else s=this.parentNode.namespaceURI;if(this.node=i.createElementNS(s,r.e),r.f&&("string"==typeof r.f&&this.node.namespaceURI===t.namespaces.html?this.node.innerHTML=r.f:(this.children=new t.DomFragment({descriptor:r.f,root:e.root,parentNode:this.node,contextStack:e.contextStack,owner:this}),this.node.appendChild(this.children.docFrag))),r.x)for(o in r.x)r.x.hasOwnProperty(o)&&this.addEventProxy(o,r.x[o],e.contextStack);this.attributes=[],u=[];for(p in r.a)r.a.hasOwnProperty(p)&&(c=r.a[p],h=new a({element:this,name:p,value:void 0===c?null:c,root:e.root,parentNode:this.node,contextStack:e.contextStack}),this.attributes[this.attributes.length]=h,h.isBindable&&u.push(h),h.isTwowayNameAttr?l=h:h.update());for(;u.length;)u.pop().bind(this.root.lazy);l&&(l.updateViewModel(),l.update()),n.appendChild(this.node)},s.prototype={addEventProxy:function(e,i,n){var r,s,o,a,h=this,p=this.root;"string"==typeof i?(p._proxies[i]||(p._proxies[i]=function(t){p.fire(i,t,this)}),a=p._proxies[i]):(o=new t.TextFragment({descriptor:i,root:this.root,owner:this,contextStack:n}),a=function(t){p.fire(o.getValue(),t,h.node)}),(r=Ractive.eventDefinitions[e])?(s=r(this.node,a),this.customEventListeners[this.customEventListeners.length]=s):void 0!==this.node["on"+e]?(this.eventListeners[this.eventListeners.length]={n:e,h:a},this.node.addEventListener(e,a)):console&&console.warn&&console.warn("Invalid event handler ("+e+")")},teardown:function(){var t;for(this.root.el.contains(this.node)&&this.parentNode.removeChild(this.node),this.children&&this.children.teardown();this.attributes.length;)this.attributes.pop().teardown();for(;this.eventListeners.length;)t=this.eventListeners.pop(),this.node.removeEventListener(t.n,t.h);for(;this.customEventListeners.length;)this.customEventListeners.pop().teardown()},firstNode:function(){return this.node},bubble:function(){}},a=function(e){var i,r,s,o,a,h,p,c;if(i=e.name,r=e.value,this.element=e.element,s=i.indexOf(":"),-1!==s&&(o=i.substr(0,s),"xmlns"!==o&&(i=i.substring(s+1),this.namespace=t.namespaces[o],!this.namespace)))throw'Unknown namespace ("'+o+'")';return null===r||"string"==typeof r?(this.namespace?e.parentNode.setAttributeNS(this.namespace,i,r):e.parentNode.setAttribute(i,r),"id"===i.toLowerCase()&&(e.root.nodes[r]=e.parentNode),void 0):(this.root=e.root,this.parentNode=e.parentNode,this.name=i,this.lcName=i.toLowerCase(),this.children=[],this.namespace||e.parentNode.namespaceURI!==t.namespaces.html||(p=this.lcName,c=n[p]||p,void 0!==e.parentNode[c]&&(this.propertyName=c),("boolean"==typeof e.parentNode[c]||"value"===c)&&(this.useProperty=!0)),this.parentFragment=this.element.parentFragment,this.fragment=new t.TextFragment({descriptor:r,root:this.root,owner:this,contextStack:e.contextStack}),1===this.fragment.items.length&&(this.selfUpdating=!0),this.root.twoway&&(a=this.element.descriptor.e.toLowerCase(),h=!("name"!==c&&"value"!==c&&"checked"!==c||"input"!==a&&"textarea"!==a&&"select"!==a)),h&&(this.isBindable=!0,"name"===c&&(this.isTwowayNameAttr=!0)),this.ready=!0,this.isTwowayNameAttr||this.update(),void 0)},a.prototype={bind:function(t){var e,i,n,r,s,o=this,a=this.parentNode;if(!this.fragment)return!1;if(1!==this.fragment.items.length||this.fragment.items[0].type!==INTERPOLATOR)throw"Not a valid two-way data binding candidate - must be a single interpolator";if(this.interpolator=this.fragment.items[0],e=this.interpolator.keypath||this.interpolator.descriptor.r,"SELECT"===a.tagName&&"value"===this.propertyName)for(i=a.getElementsByTagName("option"),s=i.length,r=0;s>r;r+=1)if(n=i[r],n.hasAttribute("selected")){this.root.set(e,n.value);break}"checkbox"===a.type||"radio"===a.type?"name"===this.propertyName?(a.name="{{"+e+"}}",this.updateViewModel=function(){a.checked&&o.root.set(e,a.value)}):"checked"===this.propertyName&&(this.updateViewModel=function(){o.root.set(e,a.checked)}):this.updateViewModel=function(){var t;t=a.value,"0"===t?t=0:""!==t&&(t=+t||t),o.root.set(e,t)},this.updateViewModel&&(this.twoway=!0,a.addEventListener("change",this.updateViewModel),a.addEventListener("click",this.updateViewModel),a.addEventListener("blur",this.updateViewModel),t||(a.addEventListener("keyup",this.updateViewModel),a.addEventListener("keydown",this.updateViewModel),a.addEventListener("keypress",this.updateViewModel),a.addEventListener("input",this.updateViewModel)))},teardown:function(){if(this.updateViewModel&&(this.parentNode.removeEventListener("change",this.updateViewModel),this.parentNode.removeEventListener("click",this.updateViewModel),this.parentNode.removeEventListener("blur",this.updateViewModel),this.parentNode.removeEventListener("keyup",this.updateViewModel),this.parentNode.removeEventListener("keydown",this.updateViewModel),this.parentNode.removeEventListener("keypress",this.updateViewModel),this.parentNode.removeEventListener("input",this.updateViewModel)),this.children)for(;this.children.length;)this.children.pop().teardown()},bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},update:function(){var t,e;if(!this.ready)return this;if("id"===this.lcName&&(void 0!==this.id&&delete this.root.nodes[this.id],this.root.nodes[this.id]=this.parentNode),this.twoway){if(e=this.lcName,this.value=this.interpolator.value,"name"===e&&("checkbox"===this.parentNode.type||"radio"===this.parentNode.type))return this.parentNode.checked=this.value===this.parentNode.value?!0:!1,this;if(i.activeElement===this.parentNode)return this}return t=this.fragment.getValue(),void 0===t&&(t=""),this.useProperty?(this.parentNode[this.propertyName]=t,this):this.namespace?(this.parentNode.setAttributeNS(this.namespace,this.name,t),this):(this.parentNode.setAttribute(this.name,t),this)}},h=function(e,n){this.node=i.createTextNode(""),n.appendChild(this.node),t.Mustache.call(this,e),this.cond&&!this.keypath&&this.update(!1)},h.prototype={teardown:function(){this.observerRefs?t.unobserveAll(this.root,this.observerRefs):t.cancelKeypathResolution(this.root,this),this.root.el.contains(this.node)&&this.parentNode.removeChild(this.node)},update:function(t){this.cond&&(t=this.cond[t?0:1]),t!==this.value&&(this.value=t,this.node.data=t)},firstNode:function(){return this.node}},p=function(e,n){this.nodes=[],this.docFrag=i.createDocumentFragment(),this.initialising=!0,t.Mustache.call(this,e),n.appendChild(this.docFrag),this.initialising=!1},p.prototype={teardown:function(){if(this.root.el.contains(this.parentNode))for(;this.nodes.length;)this.parentNode.removeChild(this.nodes.pop());this.observerRefs?t.unobserveAll(this.root,this.observerRefs):t.cancelKeypathResolution(this.root,this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},update:function(t){if(t!==this.html){for(this.html=t;this.nodes.length;)this.parentNode.removeChild(this.nodes.pop());this.nodes=e(t,this.docFrag),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}}},c=function(e,n){this.fragments=[],this.length=0,this.docFrag=i.createDocumentFragment(),this.initialising=!0,t.Mustache.call(this,e),n.appendChild(this.docFrag),this.initialising=!1},c.prototype={teardown:function(){this.unrender(),this.observerRefs?t.unobserveAll(this.root,this.observerRefs):t.cancelKeypathResolution(this.root,this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},unrender:function(){for(;this.fragments.length;)this.fragments.shift().teardown()},update:function(e){t.sectionUpdate.call(this,e),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},createFragment:function(e){var i=new t.DomFragment(e);return this.docFrag.appendChild(i.docFrag),i}}}(utils),function(t){"use strict";var e,i,n,r;t.TextFragment=function(e){t.Fragment.call(this,e)},t.TextFragment.prototype={createItem:function(t){if("string"==typeof t.descriptor)return new e(t.descriptor);switch(t.descriptor.t){case INTERPOLATOR:return new i(t);case TRIPLE:return new n(t);case SECTION:return new r(t);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.value=this.getValue(),this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var t;return 1===this.items.length&&(t=this.items[0].value,void 0!==t)?t:""+this},toString:function(){return this.items.join("")}},e=function(t){this.text=t},e.prototype={toString:function(){return this.text},teardown:function(){}},i=function(e){t.Mustache.call(this,e),this.cond&&!this.keypath&&this.update(!1)},i.prototype={update:function(t){this.cond&&(t=this.cond[t?0:1]),t!==this.value&&(this.value=t,this.parentFragment.bubble())},teardown:function(){this.observerRefs?t.unobserveAll(this.root,this.observerRefs):t.cancelKeypathResolution(this.root,this)},toString:function(){return void 0===this.value?"":this.value}},n=i,r=function(e){this.fragments=[],this.length=0,t.Mustache.call(this,e)},r.prototype={teardown:function(){this.unrender(),this.observerRefs?t.unobserveAll(this.root,this.observerRefs):t.cancelKeypathResolution(this.root,this)},unrender:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},update:function(e){t.sectionUpdate.call(this,e),this.value=this.fragments.join(""),this.parentFragment.bubble()},createFragment:function(e){return new t.TextFragment(e)},toString:function(){return this.fragments.join("")}}}(utils),utils.Fragment=function(t){var e,i,n,r,s;if(this.owner=t.owner,this.owner.type===SECTION&&(this.index=t.index),this.owner.parentFragment&&(r=this.owner.parentFragment.indexRefs)){this.indexRefs={};for(s in r)r.hasOwnProperty(s)&&(this.indexRefs[s]=r[s])}for(t.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[t.indexRef]=t.index),this.items=[],n={root:t.root,parentFragment:this,parentNode:t.parentNode,contextStack:t.contextStack},e=t.descriptor?t.descriptor.length:0,i=0;e>i;i+=1)n.descriptor=t.descriptor[i],n.index=i,this.items[this.items.length]=this.createItem(n)},utils.Mustache=function(t){this.root=t.root,this.descriptor=t.descriptor,this.parentFragment=t.parentFragment,this.contextStack=t.contextStack||[],this.index=t.index||0,(t.parentNode||t.anchor)&&(this.parentNode=t.parentNode,this.anchor=t.anchor),this.type=t.descriptor.t,t.descriptor.c&&(this.cond=t.descriptor.c),utils.registerMustache(this.root,this),!this.keypath&&this.descriptor.n&&this.update(!1)},utils.sectionUpdate=function(t){var e,i,n,r,s;if(e={descriptor:this.descriptor.f,root:this.root,parentNode:this.parentNode,owner:this},this.parentNode&&(e.anchor=this.parentFragment.findNextNode(this)),i=utils.isArray(t),i&&0===t.length&&(n=!0),this.descriptor.n){if(t&&!n)this.length&&(this.unrender(),this.length=0);else if(!this.length)return e.contextStack=this.contextStack,e.index=0,this.fragments[0]=this.createFragment(e),this.length=1,void 0}else if(i){if(t.length<this.length)for(s=this.fragments.splice(t.length,this.length-t.length);s.length;)s.pop().teardown();else if(t.length>this.length)for(r=this.length;t.length>r;r+=1)e.contextStack=this.contextStack.concat(this.keypath+"."+r),e.index=r,this.descriptor.i&&(e.indexRef=this.descriptor.i),this.fragments[r]=this.createFragment(e);this.length=t.length}else utils.isObject(t)?this.length||(e.contextStack=this.contextStack.concat(this.keypath),e.index=0,this.fragments[0]=this.createFragment(e),this.length=1):t&&!n?this.length||(e.contextStack=this.contextStack,e.index=0,this.fragments[0]=this.createFragment(e),this.length=1):this.length&&(this.unrender(),this.length=0)},function(t){"use strict";Date.now||(Date.now=function(){return+new Date}),t.createElementNS||(t.createElementNS=function(e,i){if(null!==e&&"http://www.w3.org/1999/xhtml"!==e)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml";return t.createElement(i)}),Element.prototype.contains||(Element.prototype.contains=function(t){for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),window.addEventListener||function(t,e,i,n,r,s,o){t[n]=e[n]=i[n]=function(t,e){var i=this;o.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,o[0][3])},t[r]=e[r]=i[r]=function(t,e){var i,n;for(i=0,n;n=o[i];++i)if(n[0]===this&&n[1]===t&&n[2]===e)return this.detachEvent("on"+t,o.splice(i,1)[0][3])},t[s]=e[s]=i[s]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),i=this.length;i>e;e++)if(this.hasOwnProperty(e)&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,n;for(i=0,n=this.length;n>i;i+=1)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var i,n,r=[];for(i=0,n=this.length;n>i;i+=1)this.hasOwnProperty(i)&&(r[i]=t.call(e,this[i],i,this));return r}),Array.prototype.map||(Array.prototype.map=function(t,e){var i,n,r=[];for(i=0,n=this.length;n>i;i+=1)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)&&(r[r.length]=this[i]);return r})}(document),Ractive.eventDefinitions.tap=function(t,e){var i,n,r,s;return r=5,s=400,i=function(t){var i,n,o,a,h,p;i=t.clientX,n=t.clientY,o=this,a=function(t){e.call(o,t),p()},h=function(t){(Math.abs(t.clientX-i)>=r||Math.abs(t.clientY-n)>=r)&&p()},p=function(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",a)},window.addEventListener("mousemove",h),window.addEventListener("mouseup",a),setTimeout(p,s)},t.addEventListener("mousedown",i),n=function(t){var i,n,o,a,h,p,c,u;1===t.touches.length&&(o=t.touches[0],h=o.identifier,a=this,c=function(t){var i;i=t.changedTouches[0],i.identifier!==h&&u(),e.call(i.target,t)},p=function(t){var e;(1!==t.touches.length||t.touches[0].identifier!==h)&&u(),e=t.touches[0],(Math.abs(e.clientX-i)>=r||Math.abs(e.clientY-n)>=r)&&u()},u=function(){window.removeEventListener("touchmove",p),window.removeEventListener("touchend",c),window.removeEventListener("touchcancel",u)},window.addEventListener("touchmove",p),window.addEventListener("touchend",c),window.addEventListener("touchcancel",u),setTimeout(u,s))},{teardown:function(){t.removeEventListener("mousedown",i),t.removeEventListener("touchstart",n)}}};